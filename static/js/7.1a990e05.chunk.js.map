{"version":3,"sources":["assets/icon-star.js","assets/icon-star-filled.js","assets/icon-edit.js","pages/settings/SortableListComponent.js","pages/settings/ComboItemsComponent.js"],"names":["props","viewBox","fill","xmlns","opacity","d","id","stroke","strokeWidth","fillRule","points","transform","styles","StyleSheet","create","item","borderRadius","backgroundColor","border","marginTop","padding","itemValue","flexGrow","height","label","fontWeight","marginRight","DragHandle","sortableHandle","children","SortableItem","sortableElement","position","value","onDeleteClick","onDefaultClick","showEdit","onEditClick","onChange","options","className","css","vertical","horizontal","showEditButton","style","cursor","onClick","width","showShowButton","newItem","show","checked","hideStar","default","hideRemove","marginLeft","maxWidth","fields","map","f","i","key","name","title","type","defaultColor","onChangeComplete","color","defaultValue","onBlur","e","target","SortableContainer","sortableContainer","SortableListComponent","props_items","items","onClose","onSave","useState","showEditItem","setShowEditItem","setItems","useEffect","window","scrollTo","onSortEnd","oldIndex","newIndex","arrayMove","useDragHandle","pressDelay","pressThreshold","index","undefined","newItems","splice","v","onChangeItem","button","textAlign","lineHeight","fontSize","subtitle","marginBottom","ComboItemsComponent","useReactRouter","history","match","loading","setLoading","currentType","setCurrentType","useAsync","promiseFn","firebaseClient","getMetadata","sheetId","params","metadata","data","error","loadingMetadata","isPending","length","array","Object","keys","sort","a","b","forEach","setMetadata","push","fullScreen"],"mappings":"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","file":"static/js/7.1a990e05.chunk.js","sourcesContent":["import React from 'react';\n\nexport default (props) => (\n    <svg viewBox=\"0 0 100.354 100.352\" {...props} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill={props.fill || \"#000000\"} opacity={props.opacity || ''} d=\"M96.364,39.436c-0.525-1.615-1.895-2.77-3.574-3.013l-26.672-3.876L54.19,8.378c-0.751-1.522-2.272-2.468-3.97-2.468l0,0\n\tc-1.697,0-3.219,0.946-3.971,2.468L34.321,32.547L7.649,36.423c-1.681,0.244-3.05,1.398-3.575,3.013s-0.095,3.354,1.121,4.54\n\tl19.3,18.813L19.92,89.466c-0.285,1.659,0.38,3.311,1.734,4.311c0.78,0.576,1.7,0.87,2.626,0.87c0.682,0,1.367-0.159,2.003-0.481\n\tl24.49-12.395l23.302,12.25c1.503,0.791,3.29,0.662,4.663-0.337c1.374-0.998,2.049-2.658,1.762-4.331l-4.557-26.564l19.3-18.812\n\tC96.459,42.791,96.889,41.051,96.364,39.436z M93.15,41.828L72.72,61.742l4.823,28.118c0.094,0.548-0.119,1.07-0.568,1.397\n\tc-0.449,0.328-1.011,0.369-1.503,0.109L50.8,78.395L24.929,91.489c-0.494,0.249-1.05,0.201-1.493-0.125\n\tc-0.443-0.327-0.652-0.847-0.559-1.39l4.842-28.231L7.289,41.829c-0.398-0.388-0.533-0.935-0.361-1.464\n\tc0.172-0.528,0.603-0.892,1.153-0.972l28.233-4.103L48.94,9.707c0.246-0.499,0.725-0.796,1.28-0.796l0,0\n\tc0.556,0,1.034,0.297,1.28,0.796L64.126,35.29l28.233,4.103c0.55,0.08,0.98,0.443,1.152,0.972S93.548,41.44,93.15,41.828z\"></path>\n    </svg>\n);\n","import React from 'react';\n\nexport default (props) => (\n\t<svg viewBox=\"2 2 20 19\" {...props} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<g id=\"Icons\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t<polygon id=\"Path\" fillRule=\"nonzero\" points=\"0 0 24 0 24 24 0 24\"></polygon>\n\t\t\t<polygon fill={props.fill || \"#1D1D1D\"} points=\"12 17.27 18.18 21 16.54 13.97 22 9.24 14.81 8.63 12 2 9.19 8.63 2 9.24 7.46 13.97 5.82 21\"></polygon>\n\t\t</g>\n\t</svg>\n);\n","import React from 'react';\n\nexport default (props) => (\n    <svg viewBox=\"0 0 18 18\" {...props} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g id=\"Icons\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" transform=\"translate(-3.000000, -3.000000)\">\n            <polygon id=\"Path\" points=\"0 0 24 0 24 24 0 24\"></polygon>\n            <path d=\"M3,17.46 L3,20.5 C3,20.78 3.22,21 3.5,21 L6.54,21 C6.67,21 6.8,20.95 6.89,20.85 L17.81,9.94 L14.06,6.19 L3.15,17.1 C3.05,17.2 3,17.32 3,17.46 Z M20.71,7.04 C21.1,6.65 21.1,6.02 20.71,5.63 L18.37,3.29 C17.98,2.9 17.35,2.9 16.96,3.29 L15.13,5.12 L18.88,8.87 L20.71,7.04 Z\" fill=\"#1D1D1D\"></path>\n        </g>\n    </svg>\n);\n","import React, { useEffect, useState } from 'react';\nimport {\n    sortableContainer,\n    sortableElement,\n    sortableHandle\n} from 'react-sortable-hoc';\nimport arrayMove from 'array-move';\nimport { StyleSheet, css } from 'aphrodite';\nimport { Column, Row } from 'simple-flexbox';\nimport Switch from 'react-switch';\nimport { ButtonComponent, ColorPickerComponent } from '../../components';\nimport IconStar from '../../assets/icon-star';\nimport IconStarFilled from '../../assets/icon-star-filled';\nimport IconRemove from '../../assets/icon-remove';\nimport IconEdit from '../../assets/icon-edit';\n\nconst styles = StyleSheet.create({\n    item: {\n        borderRadius: 4,\n        backgroundColor: '#FDFDFD',\n        border: '1px solid #E7EBF0',\n        marginTop: 2,\n        padding: '4px 8px'\n    },\n    itemValue: {\n        '-webkit-user-select': 'none',\n        flexGrow: 1,\n        height: '100%',\n        padding: '4px 8px'\n    },\n    label: {\n        fontWeight: 500,\n        marginRight: 6\n    }\n});\n\nconst DragHandle = sortableHandle(({ children }) => children);\n\nconst SortableItem = sortableElement(\n    ({\n        position,\n        value,\n        onDeleteClick,\n        onDefaultClick,\n        showEdit,\n        onEditClick,\n        onChange,\n        options\n    }) => (\n        <Column className={css(styles.item)}>\n            <Row vertical=\"center\" horizontal=\"spaced\">\n                <DragHandle>\n                    <Row vertical=\"center\" className={css(styles.itemValue)}>\n                        {position + 1} - {value.value}\n                    </Row>\n                </DragHandle>\n                <Row vertical=\"center\">\n                    {options.showEditButton && (\n                        <div\n                            style={{ cursor: 'pointer', marginRight: 10 }}\n                            onClick={onEditClick}\n                        >\n                            <IconEdit width={24} />\n                        </div>\n                    )}\n                    {options.showShowButton && (\n                        <div\n                            style={{ cursor: 'pointer', marginRight: 10 }}\n                            onClick={() => {}}\n                        >\n                            <Switch\n                                onChange={() => {\n                                    const newItem = {\n                                        ...value,\n                                        show: !value.show\n                                    };\n                                    onChange(newItem);\n                                }}\n                                checked={value.show}\n                            />\n                        </div>\n                    )}\n                    {!options.hideStar && (\n                        <div\n                            style={{ cursor: 'pointer' }}\n                            onClick={onDefaultClick}\n                        >\n                            {value.default ? (\n                                <IconStarFilled width={28} fill=\"#2c689c\" />\n                            ) : (\n                                <IconStar width={28} />\n                            )}\n                        </div>\n                    )}\n\n                    {!options.hideRemove && (\n                        <div\n                            style={{\n                                cursor: 'pointer',\n                                marginLeft: 16,\n                                marginRight: 12\n                            }}\n                            onClick={onDeleteClick}\n                        >\n                            <IconRemove width={28} />\n                        </div>\n                    )}\n                </Row>\n            </Row>\n            {showEdit && (\n                <table style={{ maxWidth: 200 }}>\n                    <tbody>\n                        {options.fields.map((f, i) => (\n                            <tr key={`input-${f.name}`}>\n                                <td>\n                                    <span className={css(styles.label)}>\n                                        {f.title}:\n                                    </span>\n                                </td>\n                                <td>\n                                    {f.type === 'color' ? (\n                                        <ColorPickerComponent\n                                            defaultColor={value[f.name]}\n                                            onChangeComplete={color => {\n                                                const newItem = { ...value };\n                                                newItem[f.name] = color;\n                                                onChange(newItem);\n                                            }}\n                                        />\n                                    ) : (\n                                        <input\n                                            type=\"text\"\n                                            defaultValue={value[f.name]}\n                                            onBlur={e => {\n                                                const newItem = { ...value };\n                                                newItem[f.name] =\n                                                    e.target.value;\n                                                onChange(newItem);\n                                            }}\n                                        />\n                                    )}\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            )}\n        </Column>\n    )\n);\n\nconst SortableContainer = sortableContainer(({ children }) => {\n    return <Column>{children}</Column>;\n});\n\nfunction SortableListComponent({\n    type,\n    items: props_items,\n    onClose,\n    onSave,\n    options = {}\n}) {\n    const [showEditItem, setShowEditItem] = useState('');\n    const [items, setItems] = useState(props_items || []);\n\n    useEffect(() => window.scrollTo(0, 0), []);\n\n    useEffect(() => setItems(props_items), [props_items]);\n\n    const onSortEnd = ({ oldIndex, newIndex }) => {\n        setItems(arrayMove(items, oldIndex, newIndex));\n    };\n\n    const onDeleteClick = index => {\n        const newItems = [...items];\n        newItems.splice(index, 1);\n        setItems(newItems);\n    };\n\n    const onDefaultClick = index =>\n        setItems(\n            items.map((v, i) => ({\n                ...v,\n                default: i === index ? !items[index].default : false\n            }))\n        );\n\n    const onChangeItem = (index, newItem) =>\n        setItems(items.map((v, i) => (i === index ? newItem : v)));\n\n    return (\n        <Column>\n            <SortableContainer\n                onSortEnd={onSortEnd}\n                useDragHandle\n                pressDelay={200}\n                pressThreshold={10}\n            >\n                {items.map((item, index) => {\n                    return (\n                        <SortableItem\n                            type={type}\n                            key={`item-${index}-${item.value.value}`}\n                            index={index}\n                            value={item}\n                            position={\n                                item.position !== undefined\n                                    ? item.position\n                                    : index\n                            }\n                            onDeleteClick={() => onDeleteClick(index)}\n                            onDefaultClick={() => onDefaultClick(index)}\n                            onEditClick={() =>\n                                showEditItem === item.value\n                                    ? setShowEditItem('')\n                                    : setShowEditItem(item.value)\n                            }\n                            showEdit={showEditItem === item.value}\n                            onChange={newItem => onChangeItem(index, newItem)}\n                            options={options}\n                        />\n                    );\n                })}\n            </SortableContainer>\n            <Row flexGrow={1} style={{ marginTop: 20 }} horizontal=\"spaced\">\n                <ButtonComponent color=\"red\" label=\"Cancel\" onClick={onClose} />\n                <ButtonComponent\n                    color=\"green\"\n                    label=\"Save\"\n                    onClick={() => onSave(items)}\n                />\n            </Row>\n        </Column>\n    );\n}\n\nexport default SortableListComponent;\n","import React, { useEffect, useState } from 'react';\nimport useReactRouter from 'use-react-router';\nimport { StyleSheet, css } from 'aphrodite';\nimport { Column } from 'simple-flexbox';\nimport { useAsync } from 'react-async';\nimport firebaseClient from '../../logic/firebaseClient';\nimport { LoadingComponent } from '../../components';\nimport SortableListComponent from './SortableListComponent';\n\nconst styles = StyleSheet.create({\n    button: {\n        borderRadius: 5,\n        color: 'white',\n        cursor: 'pointer',\n        fontWeight: 600,\n        padding: '8px 10px',\n        width: 90,\n        textAlign: 'center'\n    },\n    item: {\n        borderRadius: 4,\n        backgroundColor: '#FDFDFD',\n        border: '1px solid #E7EBF0',\n        marginTop: 2,\n        padding: '4px 8px'\n    },\n    title: {\n        lineHeight: '36px',\n        fontSize: 24,\n        fontWeight: 'bold'\n    },\n    subtitle: {\n        lineHeight: '27px',\n        fontSize: 18,\n        marginTop: 4,\n        marginBottom: 8\n    }\n});\n\nfunction ComboItemsComponent({ title, type, options = {} }) {\n    const { history, match } = useReactRouter();\n\n    const [loading, setLoading] = useState(false);\n    const [items, setItems] = useState([]);\n    const [currentType, setCurrentType] = useState([]);\n\n    const { data: metadata, error, isPending: loadingMetadata } = useAsync({\n        promiseFn: firebaseClient.getMetadata,\n        sheetId: match.params.sheetId\n    });\n\n    useEffect(() => window.scrollTo(0, 0), []);\n\n    useEffect(() => {\n        if (\n            metadata &&\n            (items.length === 0 || currentType !== type) &&\n            metadata[type]\n        ) {\n            const array = Object.keys(metadata[type]).map(key => ({\n                value: key,\n                ...metadata[type][key]\n            }));\n            array.sort((a, b) => a.position - b.position);\n            setItems(array);\n            setCurrentType(type);\n        }\n    }, [match.params.sheetId, items, type, currentType, metadata]);\n\n    const onSave = async items => {\n        const newItems = {};\n        items.forEach(({ value, ...item }, index) => {\n            newItems[value] = {\n                ...item,\n                position: index\n            };\n        });\n        setLoading(true);\n        await firebaseClient.setMetadata({\n            sheetId: match.params.sheetId,\n            type,\n            items: newItems\n        });\n        history.push(`/sheet/${match.params.sheetId}`);\n    };\n\n    const onClose = () => history.push(`/sheet/${match.params.sheetId}`);\n\n    if (error) {\n        return <span className={css(styles.title)}>Error: {error}</span>;\n    }\n\n    return (\n        <LoadingComponent loading={loadingMetadata || loading} fullScreen>\n            <Column>\n                <span className={css(styles.title)}>{title}</span>\n                <span className={css(styles.subtitle)}>\n                    Drag the items on the list to sort them.\n                </span>\n                <SortableListComponent\n                    items={items}\n                    onClose={onClose}\n                    onSave={onSave}\n                    type={type}\n                    options={options}\n                    title={title}\n                />\n            </Column>\n        </LoadingComponent>\n    );\n}\n\nexport default ComboItemsComponent;\n"],"sourceRoot":""}