{"version":3,"sources":["pages/sheets/NewSheetComponent.js"],"names":["styles","StyleSheet","create","container","margin","maxWidth","errorText","color","width","label","fontWeight","marginRight","title","lineHeight","fontSize","marginBottom","AddExpenseComponent","fieldName","useExpenses","refreshUser","user","history","useReactRouter","useForm","errors","handleSubmit","register","reset","setValue","useState","loading","setLoading","onSave","a","name","firebaseClient","addSheet","sheetId","push","fullScreen","className","css","placeholder","onChange","e","target","value","ref","required","message","flexGrow","style","marginTop","horizontal","onClick"],"mappings":"kQAcMA,EAASC,IAAWC,OAAO,CAC7BC,UAAW,CACPC,OAAQ,SACRC,SAAU,KAEdC,UAAW,CACPC,MAAO,MACPC,MAAO,OAEXC,MAAO,CACHC,WAAY,IACZC,YAAa,GAEjBC,MAAO,CACHC,WAAY,OACZC,SAAU,GACVJ,WAAY,OACZK,aAAc,MA2DPC,UAvDf,WAAgC,IAkBRC,EAlBO,EACGC,cAAtBC,EADmB,EACnBA,YAAaC,EADM,EACNA,KACbC,EAAYC,MAAZD,QAFmB,EAIiCE,cAApDC,EAJmB,EAInBA,OAAQC,EAJW,EAIXA,aAAcC,EAJH,EAIGA,SAAUC,EAJb,EAIaA,MAAOC,EAJpB,EAIoBA,SAJpB,EAMGC,oBAAS,GANZ,mBAMpBC,EANoB,KAMXC,EANW,KAQrBC,EAAM,uCAAG,+BAAAC,EAAA,6DAASC,EAAT,EAASA,KACpBH,GAAW,GADA,SAEWI,IAAeC,SAAS,CAAEF,OAAMd,SAF3C,cAELiB,EAFK,OAGXV,IAHW,SAILR,IAJK,OAKXE,EAAQiB,KAAR,iBAAuBD,IALZ,2CAAH,sDAiBZ,OACI,kBAAC,IAAD,CAAkBP,QAASA,EAASS,YAAU,GAC1C,kBAAC,SAAD,CAAQC,UAAWC,YAAIzC,EAAOG,YAC1B,0BAAMqC,UAAWC,YAAIzC,EAAOY,QAA5B,oBACA,0BAAM4B,UAAWC,YAAIzC,EAAOS,QAA5B,QACA,kBAAC,IAAD,CACIyB,KAAK,OACLQ,YAAY,aACZC,SAAU,SAAAC,GAAC,OAAIhB,EAAS,OAAQgB,EAAEC,OAAOC,QACzCC,IAAKrB,EAAS,CAAEsB,UAAU,MAftCxB,EADgBP,EAkBK,SAhBjB,0BAAMuB,UAAWC,YAAIzC,EAAOM,YACvBkB,EAAOP,GAAWgC,SAAW,kBAiB9B,kBAAC,MAAD,CAAKC,SAAU,EAAGC,MAAO,CAAEC,UAAW,IAAMC,WAAW,UACnD,kBAAC,IAAD,CACI9C,MAAM,MACNE,MAAM,SACN6C,QA1BJ,kBAAMjC,EAAQiB,KAAK,QA4BnB,kBAAC,IAAD,CACI/B,MAAM,QACNE,MAAM,OACN6C,QAAS7B,EAAaO","file":"static/js/12.6d586ac0.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { StyleSheet, css } from 'aphrodite';\nimport useReactRouter from 'use-react-router';\nimport { Column, Row } from 'simple-flexbox';\nimport useForm from 'react-hook-form';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { useExpenses } from '../../logic/useExpenses';\nimport firebaseClient from '../../logic/firebaseClient';\nimport {\n    ButtonComponent,\n    InputComponent,\n    LoadingComponent\n} from '../../components';\n\nconst styles = StyleSheet.create({\n    container: {\n        margin: '0 auto',\n        maxWidth: 500\n    },\n    errorText: {\n        color: 'red',\n        width: '95%'\n    },\n    label: {\n        fontWeight: 500,\n        marginRight: 6\n    },\n    title: {\n        lineHeight: '36px',\n        fontSize: 24,\n        fontWeight: 'bold',\n        marginBottom: 10\n    }\n});\n\nfunction AddExpenseComponent() {\n    const { refreshUser, user } = useExpenses();\n    const { history } = useReactRouter();\n\n    const { errors, handleSubmit, register, reset, setValue } = useForm();\n\n    const [loading, setLoading] = useState(false);\n\n    const onSave = async ({ name }) => {\n        setLoading(true);\n        const sheetId = await firebaseClient.addSheet({ name, user });\n        reset();\n        await refreshUser();\n        history.push(`/sheet/${sheetId}`);\n    };\n\n    const onClose = () => history.push('/');\n\n    const renderError = fieldName =>\n        errors[fieldName] && (\n            <span className={css(styles.errorText)}>\n                {errors[fieldName].message || 'Required field'}\n            </span>\n        );\n\n    return (\n        <LoadingComponent loading={loading} fullScreen>\n            <Column className={css(styles.container)}>\n                <span className={css(styles.title)}>Create New Sheet</span>\n                <span className={css(styles.label)}>Name</span>\n                <InputComponent\n                    name=\"name\"\n                    placeholder=\"SHEET NAME\"\n                    onChange={e => setValue('name', e.target.value)}\n                    ref={register({ required: true })}\n                />\n                {renderError('name')}\n\n                <Row flexGrow={1} style={{ marginTop: 20 }} horizontal=\"spaced\">\n                    <ButtonComponent\n                        color=\"red\"\n                        label=\"Cancel\"\n                        onClick={onClose}\n                    />\n                    <ButtonComponent\n                        color=\"green\"\n                        label=\"Save\"\n                        onClick={handleSubmit(onSave)}\n                    />\n                </Row>\n            </Column>\n        </LoadingComponent>\n    );\n}\n\nexport default AddExpenseComponent;\n"],"sourceRoot":""}