{"version":3,"sources":["assets/google_button.jpg","assets/pdf_logo.png","logic/fakeClient.js","logic/firebaseClient.js","logic/useExpenses.js","logic/useFirebase.js","commons/InitializingComponent.js","assets/icon-dollar.js","commons/sidebar/LogoComponent.js","commons/sidebar/SubItemComponent.js","commons/sidebar/MenuItemComponent.js","assets/icon-overview.js","assets/icon-logout.js","assets/icon-plus.js","assets/icon-settings.js","assets/icon-location.js","assets/icon-ideas.js","assets/icon-tag.js","assets/icon-dollar-currency.js","assets/icon-creditcard.js","assets/icon-subscription.js","assets/icon-receipt.js","commons/sidebar/useSidebar.js","commons/sidebar/SidebarComponent.js","assets/icon-search.js","assets/icon-bell-new.js","commons/header/HeaderComponent.js","commons/NotificationComponent.js","pages/auth/LoginComponent.js","logic/utilities.js","assets/icon-calendar.js","pages/expenses/ExpenseItem.js","pages/expenses/StatisticsByCategoryWidget.js","pages/expenses/StatisticsWidget.js","pages/expenses/FiltersComponent.js","pages/expenses/ExpensesComponent.js","logic/useSheetChangesSubscription.js","assets/icon-export.js","assets/icon-remove.js","assets/icon-rotate.js","commons/ImageUpload.js","commons/AutosuggestCustom.js","pages/expenses/UpsertExpenseComponent.js","pages/sheets/NewSheetComponent.js","commons/ColorPickerComponent.js","assets/icon-star.js","assets/icon-star-filled.js","assets/icon-edit.js","pages/settings/SortableListComponent.js","pages/settings/ComboItemsComponent.js","pages/settings/UserSettingsComponent.js","pages/dashboard/DashboardComponent.js","pages/sheets/SettingsSheetComponent.js","pages/routes.js","pages/MainComponent.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","timeout","ms","a","Promise","res","setTimeout","_objectToArray","object","keys","Object","result","i","length","id","push","addSheet","user","name","getExpenses","sheetId","expenses","fakeData","sheets","sort","b","dateNeg","getExpenseById","expenseId","getFile","filePath","getMetadata","metadata","getRef","path","on","value","cb","val","off","getSheet","sheet","sheetName","getExpensesRef","getMetadataRef","getNewExpenseId","getNewSheetId","getSheetName","init","googleProvider","login","logout","onAuthStateChanged","callback","uid","refreshUser","userUID","email","familyName","givenName","photoUrl","ABC","position","show","removeExpense","removeSheet","userId","setMetadata","type","items","setSheetName","setUserSheets","updateObject","upsertExpense","item","files","_fetchData","reference","once","snapshot","_rotateImage","angle","addMessage","firebase","functions","httpsCallable","_config","apiKey","process","REACT_APP_apiKey","authDomain","REACT_APP_authDomain","databaseURL","REACT_APP_databaseURL","projectId","REACT_APP_projectId","storageBucket","REACT_APP_storageBucket","messagingSenderId","REACT_APP_messagingSenderId","appId","REACT_APP_appId","fakeClient","newSheetId","newSheet","categories","currencies","methods","tags","cities","statistics","newAuth","role","newUserSheet","userUpdate","expensesRef","orderByChild","forEach","child","storage","pathReference","ref","getDownloadURL","url","key","database","getExpensesPromise","getMetadataPromise","getSheetNamePromise","auth","signInWithPopup","authenticationResult","additionalUserInfo","isNewUser","displayName","photoURL","updates","remove","set","update","newId","newExpense","split","map","t","trim","filter","join","category","currency","method","city","tag","storageRef","rotate","extension","pop","Date","getTime","fileRef","put","console","log","message","initializeApp","GoogleAuthProvider","signOut","expensesContext","createContext","ProvideExpenses","children","useState","isOnline","setIsOnline","setUser","setGoogleProvider","initializing","setInitializing","useEffect","firebaseClient","snap","loggedUser","newUser","refreshResponse","listener","useFirebase","Provider","useExpenses","useContext","styles","StyleSheet","create","container","backgroundColor","height","width","containerLoadingFS","minHeight","top","left","zIndex","containerLoading","loading","border","borderRadius","borderTop","animationName","transform","animationDuration","animationIterationCount","loadingSpan","color","marginTop","fontSize","LoadingComponent","fullScreen","style","className","css","horizontal","vertical","InitializingComponent","props","viewBox","version","xmlns","stroke","strokeWidth","fill","d","marginLeft","marginRight","title","fontFamily","fontStyle","fontWeight","lineHeight","letterSpacing","opacity","wrapper","padding","paddingTop","LogoComponent","activeContainer","activeBar","borderLeft","activeTitle","containerSubItem","cursor","paddingLeft","transition","inactiveBar","SubItemComponent","index","active","icon","onClick","display","paddingRight","MenuItemComponent","expanded","subItems","Icon","s","clipPath","strokeLinecap","strokeLinejoin","x1","y1","x2","y2","useSidebar","defaultPath","useReactRouter","history","location","isOpen","setIsOpen","pathname","selectedItem","setSelectedItem","onMenuItemClicked","isActive","exact","indexOf","isCollapsible","newItem","undefined","prevValue","isExpanded","stylesSeparator","separator","marginBottom","bmBurgerButton","bmBurgerBars","background","bmBurgerBarsHover","bmCrossButton","bmCross","bmMenuWrap","bmMenu","bmItem","outline","bmMorphShape","bmOverlay","SidebarComponent","setLoading","isMobile","window","innerWidth","noOverlay","disableCloseOnEsc","onStateChange","state","paddingBottom","IconSubscription","IconOverview","IconPlus","IconSettings","IconLogout","cx","cy","r","avatar","cursorPointer","textAlign","textOverflow","overflow","whiteSpace","iconStyles","HeaderComponent","flexGrow","src","alt","notification","Notification","newInstance","n","notice","content","right","margin","duration","removeNotice","loginBox","maxWidth","maxHeight","loginTitle","googleLoginButton","boxShadow","whiteWpace","verticalAlign","LoginComponent","doLogin","GoogleButton","whyDidYouRender","numberFormat","decimals","number","toString","replace","Number","toFixed","isFileAnImage","file","toLowerCase","sortExpensesByDate","data","array","date","applyFilters","amountFrom","amountTo","dateFrom","dateTo","expense","includes","from","to","moment","isSameOrBefore","isSameOrAfter","isDateBetweenDates","amount","editButton","lastColumn","minWidth","flexDirection","justifyContent","ExpenseItem","forwardRef","onEditClick","componentRef","breakpoints","654","744","488","360","nowrap","format","340","description","wrap","borderColor","borderStyle","borderWidth","categoryStatistics","StatisticsByCategoryWidget","showBorders","Math","round","average","total","toggleButton","transitionProperty","transitionTimingFunction","borderColors","StatisticsWidget","period","setExpanded","periodo","days","daysInMonth","Fragment","button","closeButton","inputField","subTitle","reactTagsContainer","inputGroupRow","FiltersComponent","filters","onApply","onClose","match","useAsync","promiseFn","params","isPending","v","currentFilters","setCurrentFilters","onValueChange","prev","newFilters","renderTagFilter","suggestions","noStyles","onDelete","splice","onTagDelete","onAddition","find","onTagAdd","minQueryLength","maxSuggestionsLength","placeholder","startOpen","selected","onChange","dateFormat","customInput","e","target","c","hasFilters","some","f","buttonsContainer","addExpenseButton","link","textDecoration","statisticsGlobal","sideColumnsLeft","sideColumnsRight","flexWrap","showFiltersButton","ExpensesComponent","setExpenses","setStatistics","setTags","metadataRef","isInitialFetch","_rawData","_metadata","getSheetFetch","getSheetResponse","childSnapshot","formatted","dataIndex","findIndex","newRawData","useSheetChangesSubscription","expensesFiltered","setExpensesFiltered","expensesPaginated","setExpensesPaginated","showFilters","setShowFilters","filtered","onExpenseClick","scrollTo","periodos","totalDays","p","diffTime","abs","lastUpdate","minDate","ceil","pageCount","1080","alignItems","768","previousLabel","nextLabel","breakLabel","breakClassName","marginPagesDisplayed","pageRangeDisplayed","onPageChange","containerClassName","subContainerClassName","activeClassName","slice","reverse","onRequestClose","bottom","overlay","ariaHideApp","clipRule","fillRule","points","photoContainer","imgButton","fileName","overflowWrap","uploaderContainer","DragNDropFileComponent","hasFiles","loadingImages","setLoadingImages","currentImage","setCurrentImage","viewerIsOpen","setViewerIsOpen","useDropzone","getRootProps","getInputProps","rootRef","inputRef","acceptedFiles","openLightbox","useCallback","_","newFiles","photos","thumb","isImage","publicUrl","URL","createObjectURL","PdfLogo","renderImage","photo","filteredFiles","removeFile","fileIndex","rotateImage","open","onError","onLoad","dialog","base","positioner","blanket","isFullscreen","isModal","currentIndex","views","x","srcset","srcSet","caption","theme","input","inputFocused","inputOpen","borderBottomLeftRadius","borderBottomRightRadius","suggestionsContainer","suggestionsContainerOpen","suggestionsList","listStyleType","suggestion","suggestionHighlighted","AutosuggestCustom","values","suggestionsValues","setSuggestionsValues","initializingValues","setInitializingValues","getSuggestionsValues","inputValue","inputLength","lang","onSuggestionsFetchRequested","onSuggestionsClearRequested","getSuggestionValue","renderSuggestion","shouldRenderSuggestions","inputProps","errorText","AddExpenseComponent","editMode","useForm","defaultValues","errors","handleSubmit","register","reset","setValue","watch","loadingExpense","loadingMetadata","defaultExpense","setDefaultExpense","loadingUpsert","setLoadingUpsert","setFiles","filesChanged","setFilesChanged","loadFiles","filteredExpense","expenseFiles","thumbFilename","substring","lastIndexOf","thumbFolder","newDefault","defaultCity","default","defaultCategory","defaultCurrency","defaultMethod","useMemo","tagsSuggestions","onSave","newData","renderError","fieldName","tagsValues","required","newValue","autoComplete","newTags","allowNew","validate","isNaN","ImageUpload","swatch","popover","cover","ColorPickerComponent","defaultColor","onChangeComplete","setShow","setColor","hex","itemValue","label","DragHandle","sortableHandle","SortableItem","sortableElement","onDeleteClick","onDefaultClick","showEdit","options","showEditButton","showShowButton","checked","hideStar","hideRemove","fields","defaultValue","onBlur","SortableContainer","sortableContainer","SortableListComponent","props_items","showEditItem","setShowEditItem","setItems","onSortEnd","oldIndex","newIndex","arrayMove","useDragHandle","pressDelay","pressThreshold","newItems","onChangeItem","subtitle","ComboItemsComponent","currentType","setCurrentType","error","section","UserSettingsComponent","itemContainer","itemPlusContainer","onAddSheetClick","pairs","pairIndex","floor","plus","SettingsComponent","loadingSheetName","RenterRoutes","component","UpsertExpenseComponent","render","SettingsSheetComponent","NewSheetComponent","DashboardComponent","mainBlock","MainComponent","NotificationComponent","require","React","App","resize","forceUpdate","addEventListener","this","removeEventListener","basename","Component","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.7bd04ba7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/google_button.2c7794a9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/pdf_logo.880c7621.png\";","import fakeData from './fakeData.json';\n\nconst timeout = async ms => new Promise(res => setTimeout(res, ms));\n\nconst _objectToArray = object => {\n    const keys = Object.keys(object);\n    const result = [];\n    for (let i = 0; i < keys.length; i++) {\n        const id = keys[i];\n        result.push(object[id]);\n    }\n    return result;\n};\n\nconst addSheet = async ({ user, name }) => {};\n\nconst getExpenses = async ({ sheetId }) => {\n    const expenses = fakeData.sheets['ABC'].expenses;\n    const result = _objectToArray(expenses);\n    result.sort((a, b) => a.dateNeg - b.dateNeg);\n    return result;\n};\n\nconst getExpenseById = async ({ sheetId, expenseId }) => {\n    if (!expenseId) {\n        return null;\n    }\n    return fakeData.sheets['ABC'].expenses[expenseId];\n};\n\nconst getExpensesRef = ({ sheetId }) => getRef(`/sheets/${sheetId}/expenses`);\n\nconst getFile = async filePath => '';\n\nconst getMetadata = async ({ sheetId }) => {\n    await timeout(500);\n    return fakeData.sheets['ABC'].metadata;\n};\n\nconst getMetadataRef = ({ sheetId }) => getRef(`/sheets/${sheetId}/metadata`);\n\nconst getNewExpenseId = ({ sheetId }) => {};\n\nconst getNewSheetId = () => {};\n\nconst getRef = path => ({\n    on: (value, cb) => {\n        cb({\n            val: () => true\n        });\n    },\n    off: () => {}\n});\n\nconst getSheet = async ({ sheetId }) => {\n    const sheet = fakeData.sheets['ABC'];\n    const expenses = await getExpenses({ sheetId });\n    return {\n        sheetId: 'ABC',\n        sheetName: sheet.name,\n        expenses,\n        metadata: sheet.metadata\n    };\n};\n\nconst getSheetName = ({ sheetId }) => 'Australia';\n\nconst init = () => {\n    return {\n        googleProvider: {}\n    };\n};\n\nconst login = async ({ googleProvider }) => {};\n\nconst logout = () => {};\n\nconst onAuthStateChanged = ({ callback }) => {\n    callback({\n        uid: 'user1'\n    });\n    return () => {};\n};\n\nconst refreshUser = async userUID => {\n    return {\n        user: {\n            email: 'llorentegerman@gmail.com',\n            familyName: 'Llorente',\n            givenName: 'German',\n            id: 'user1',\n            name: 'German Llorente',\n            photoUrl:\n                'https://media-exp1.licdn.com/dms/image/C5603AQHvxXcHBt5etA/profile-displayphoto-shrink_400_400/0?e=1594857600&v=beta&t=plBhadPkk_suuuOfrYm8mOLsNEi3ovsx731L_XaeqjE',\n            sheets: {\n                ABC: {\n                    id: 'ABC',\n                    metadata: { position: 0, show: true },\n                    name: 'Australia'\n                }\n            },\n            uid: 'user1'\n        }\n    };\n};\n\nconst removeExpense = ({ sheetId, expenseId }) => {};\n\nconst removeSheet = async ({ sheetId, userId }) => {};\n\nconst setMetadata = ({ sheetId, type, items }) => {};\n\nconst setSheetName = async ({ sheetId, userId, sheetName }) => {};\n\nconst setUserSheets = ({ userId, sheets }) => {};\n\nconst updateObject = ({ object }) => {};\n\nconst upsertExpense = async ({\n    sheetId,\n    item: { files = [], ...item },\n    metadata\n}) => {};\n\nexport default {\n    addSheet,\n    getExpenses,\n    getExpenseById,\n    getExpensesRef,\n    getFile,\n    getMetadata,\n    getMetadataRef,\n    getNewExpenseId,\n    getNewSheetId,\n    getRef,\n    getSheet,\n    getSheetName,\n    init,\n    login,\n    logout,\n    onAuthStateChanged,\n    refreshUser,\n    removeExpense,\n    removeSheet,\n    setMetadata,\n    setSheetName,\n    setUserSheets,\n    updateObject,\n    upsertExpense\n};\n","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/storage';\nimport 'firebase/database';\nimport 'firebase/functions';\nimport fakeClient from './fakeClient';\n\nconst _fetchData = async path => {\n    const reference = getRef(path);\n    const snapshot = await reference.once('value');\n    const value = snapshot.val();\n    return value;\n};\n\nconst _rotateImage = async (path, angle) => {\n    const addMessage = firebase.functions().httpsCallable('rotateImage');\n    return addMessage({ path, angle });\n};\n\nconst _config = {\n    apiKey: process.env.REACT_APP_apiKey,\n    authDomain: process.env.REACT_APP_authDomain,\n    databaseURL: process.env.REACT_APP_databaseURL,\n    projectId: process.env.REACT_APP_projectId,\n    storageBucket: process.env.REACT_APP_storageBucket,\n    messagingSenderId: process.env.REACT_APP_messagingSenderId,\n    appId: process.env.REACT_APP_appId,\n    fakeClient: process.env.REACT_APP_fakeClient === 'true'\n};\n\nconst addSheet = async ({ user, name }) => {\n    const newSheetId = getNewSheetId();\n    const newSheet = {};\n    newSheet[`sheets/${newSheetId}`] = {\n        id: newSheetId,\n        name: name || `sheet_${newSheetId}`,\n        expenses: '',\n        metadata: {\n            categories: '',\n            currencies: '',\n            methods: '',\n            expenses: '',\n            tags: '',\n            cities: '',\n            statistics: '',\n            show: true\n        }\n    };\n    await updateObject({ object: newSheet });\n\n    const newAuth = {};\n    newAuth[`authorization/${newSheetId}/${user.uid}`] = {\n        role: 'admin'\n    };\n    await updateObject({ object: newAuth });\n\n    const newUserSheet = {};\n    newUserSheet[`users/${user.uid}/sheets/${newSheetId}`] = {\n        id: newSheetId,\n        name: name || `sheet_${newSheetId}`,\n        metadata: {\n            position: 100,\n            show: true\n        }\n    };\n    await updateObject({ object: newUserSheet });\n\n    const userUpdate = { ...user };\n    if (!userUpdate.sheets) {\n        userUpdate.sheets = {};\n    }\n    userUpdate.sheets[newSheetId] = {\n        id: newSheetId,\n        name: name || `sheet_${newSheetId}`\n    };\n\n    return newSheetId;\n};\n\nconst getExpenses = async ({ sheetId }) => {\n    const expenses = [];\n    const expensesRef = getExpensesRef({ sheetId });\n    const snapshotExpenses = await expensesRef\n        .orderByChild('dateNeg')\n        .once('value');\n    snapshotExpenses.forEach(child => {\n        expenses.push(child.val());\n    });\n    return expenses;\n};\n\nconst getExpenseById = ({ sheetId, expenseId }) =>\n    _fetchData(`/sheets/${sheetId}/expenses/${expenseId}`);\n\nconst getExpensesRef = ({ sheetId }) => getRef(`/sheets/${sheetId}/expenses`);\n\nconst getFile = async filePath => {\n    const storage = firebase.storage();\n    const pathReference = storage.ref(filePath);\n    const url = await pathReference.getDownloadURL();\n    return url;\n};\n\nconst getMetadata = async ({ sheetId }) =>\n    _fetchData(`/sheets/${sheetId}/metadata`);\n\nconst getMetadataRef = ({ sheetId }) => getRef(`/sheets/${sheetId}/metadata`);\n\nconst getNewExpenseId = ({ sheetId }) =>\n    getRef()\n        .child(`sheets/${sheetId}`)\n        .push().key;\n\nconst getNewSheetId = () =>\n    getRef()\n        .child('sheets')\n        .push().key;\n\nconst getRef = path => firebase.database().ref(path);\n\nconst getSheet = async ({ sheetId }) => {\n    // Promises\n    const getExpensesPromise = getExpenses({ sheetId });\n    const getMetadataPromise = getMetadata({ sheetId });\n    const getSheetNamePromise = getSheetName({ sheetId });\n\n    // Resolves\n    const expenses = await getExpensesPromise;\n    const metadata = await getMetadataPromise;\n    const sheetName = await getSheetNamePromise;\n\n    return {\n        sheetId,\n        sheetName,\n        expenses,\n        metadata\n    };\n};\n\nconst getSheetName = ({ sheetId }) => _fetchData(`/sheets/${sheetId}/name`);\n\nconst init = () => {\n    firebase.initializeApp(_config);\n    const googleProvider = new firebase.auth.GoogleAuthProvider();\n    return {\n        googleProvider\n    };\n};\n\nconst login = async ({ googleProvider }) => {\n    const authenticationResult = await firebase\n        .auth()\n        .signInWithPopup(googleProvider);\n    if (\n        authenticationResult.additionalUserInfo &&\n        authenticationResult.additionalUserInfo.isNewUser\n    ) {\n        try {\n            const {\n                displayName,\n                email,\n                photoURL,\n                uid\n            } = authenticationResult.user;\n            const updates = {};\n            updates[`users/${authenticationResult.user.uid}`] = {\n                displayName,\n                email,\n                photoURL,\n                uid,\n                sheets: ''\n            };\n\n            await updateObject({ object: updates });\n        } catch (ex) {}\n    }\n};\n\nconst logout = () => firebase.auth().signOut();\n\nconst onAuthStateChanged = ({ callback }) =>\n    firebase.auth().onAuthStateChanged(callback);\n\nconst refreshUser = async userUID => {\n    const user = await _fetchData(`/users/${userUID}`);\n    user.uid = userUID;\n\n    return {\n        user\n    };\n};\n\nconst removeExpense = ({ sheetId, expenseId }) =>\n    getRef()\n        .child(`sheets/${sheetId}/expenses/${expenseId}`)\n        .remove();\n\nconst removeSheet = async ({ sheetId, userId }) => {\n    await firebase\n        .database()\n        .ref()\n        .child(`sheets/${sheetId}`)\n        .remove();\n    await firebase\n        .database()\n        .ref()\n        .child(`users/${userId}/sheets/${sheetId}`)\n        .remove();\n    await firebase\n        .database()\n        .ref()\n        .child(`authorization/${sheetId}`)\n        .remove();\n};\n\nconst setMetadata = ({ sheetId, type, items }) =>\n    getRef(`sheets/${sheetId}/metadata/${type}`).set(items);\n\nconst setSheetName = async ({ sheetId, userId, sheetName }) => {\n    await firebase\n        .database()\n        .ref(`sheets/${sheetId}/name`)\n        .set(sheetName);\n    await firebase\n        .database()\n        .ref(`users/${userId}/sheets/${sheetId}/name`)\n        .set(sheetName);\n};\n\nconst setUserSheets = ({ userId, sheets }) =>\n    getRef(`users/${userId}/sheets`).set(sheets);\n\nconst updateObject = ({ object }) =>\n    firebase\n        .database()\n        .ref()\n        .update(object);\n\nconst upsertExpense = async ({\n    sheetId,\n    item: { files = [], ...item },\n    metadata\n}) => {\n    const newId = item.id || getNewExpenseId({ sheetId });\n    const newExpense = { id: newId, files: [], ...item };\n\n    let tags = (newExpense.tags || '').split(',');\n    tags = tags.map(t => t.trim()).filter(t => !!t);\n    newExpense.tags = tags.join(',');\n\n    const updates = {};\n    updates[`sheets/${sheetId}/expenses/${newId}`] = newExpense;\n\n    if (!metadata.categories[newExpense.category]) {\n        updates[\n            `sheets/${sheetId}/metadata/categories/${newExpense.category}`\n        ] = {\n            position: 100\n        };\n    }\n\n    if (!metadata.currencies[newExpense.currency]) {\n        updates[\n            `sheets/${sheetId}/metadata/currencies/${newExpense.currency}`\n        ] = {\n            position: 100\n        };\n    }\n\n    if (!metadata.methods[newExpense.method]) {\n        updates[`sheets/${sheetId}/metadata/methods/${newExpense.method}`] = {\n            position: 100\n        };\n    }\n\n    if (!metadata.cities[newExpense.city]) {\n        updates[`sheets/${sheetId}/metadata/cities/${newExpense.city}`] = {\n            position: 100\n        };\n    }\n\n    tags.forEach(tag => {\n        tag = tag.trim();\n        if (tag && !metadata.tags[tag]) {\n            updates[`sheets/${sheetId}/metadata/tags/${tag}`] = {\n                position: 100\n            };\n        }\n    });\n\n    // Create a root reference\n    var storageRef = firebase.storage().ref();\n    for (let i = 0; i < files.length; i++) {\n        if (files[i].url) {\n            newExpense.files.push({\n                url: files[i].url,\n                name: files[i].name || ''\n            });\n            if (files[i].rotate) {\n                await _rotateImage(files[i].url, files[i].rotate);\n            }\n            continue;\n        }\n        const extension = files[i].name.split('.').pop();\n        const filePath = `${sheetId}/${newId}/${new Date().getTime()}.${extension}`;\n        try {\n            var fileRef = storageRef.child(filePath);\n            await fileRef.put(files[i]);\n            newExpense.files.push({\n                url: filePath,\n                name: files[i].name\n            });\n        } catch (e) {\n            console.log('error', e.message);\n        }\n    }\n\n    await firebase\n        .database()\n        .ref()\n        .update(updates);\n};\n\nexport default _config.fakeClient\n    ? fakeClient\n    : {\n          addSheet,\n          getExpenses,\n          getExpenseById,\n          getExpensesRef,\n          getFile,\n          getMetadata,\n          getMetadataRef,\n          getNewExpenseId,\n          getNewSheetId,\n          getRef,\n          getSheet,\n          getSheetName,\n          init,\n          login,\n          logout,\n          onAuthStateChanged,\n          refreshUser,\n          removeExpense,\n          removeSheet,\n          setMetadata,\n          setSheetName,\n          setUserSheets,\n          updateObject,\n          upsertExpense\n      };\n","import React, { useContext, createContext } from 'react';\nimport useFirebase from './useFirebase';\n\nconst expensesContext = createContext();\n\nexport function ProvideExpenses({ children }) {\n    const expenses = useFirebase();\n    return (\n        <expensesContext.Provider value={expenses}>\n            {children}\n        </expensesContext.Provider>\n    );\n}\n\nexport const useExpenses = () => {\n    return useContext(expensesContext);\n};\n","import { useEffect, useState } from 'react';\nimport firebaseClient from './firebaseClient';\n\nexport default () => {\n    const [isOnline, setIsOnline] = useState(true);\n    const [user, setUser] = useState(null);\n    const [googleProvider, setGoogleProvider] = useState(null);\n    const [initializing, setInitializing] = useState(true);\n\n    useEffect(() => {\n        const { googleProvider } = firebaseClient.init();\n        setGoogleProvider(googleProvider);\n        const connectedRef = firebaseClient.getRef('.info/connected');\n        connectedRef.on('value', snap => {\n            if (snap.val() === true) {\n                setIsOnline(true);\n            } else {\n                setIsOnline(false);\n            }\n        });\n    }, []);\n\n    useEffect(() => {\n        const callback = async loggedUser => {\n            let newUser = null;\n            if (loggedUser) {\n                const refreshResponse = await firebaseClient.refreshUser(\n                    loggedUser.uid\n                );\n                newUser = refreshResponse.user;\n            }\n            setUser(newUser);\n            setInitializing(false);\n        };\n        const listener = firebaseClient.onAuthStateChanged({ callback });\n        return () => {\n            listener();\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [setInitializing]);\n\n    const refreshUser = async () => {\n        if (!user) {\n            return;\n        }\n        const refreshResponse = await firebaseClient.refreshUser(user.uid);\n        setUser(refreshResponse.user);\n    };\n\n    const login = async () =>\n        firebaseClient.login({\n            googleProvider\n        });\n\n    return {\n        googleProvider,\n        initializing,\n        isOnline,\n        login,\n        logout: firebaseClient.logout,\n        refreshUser,\n        user\n    };\n};\n","import React from 'react';\nimport { StyleSheet, css } from 'aphrodite';\nimport { Column } from 'simple-flexbox';\n\nconst styles = StyleSheet.create({\n    container: {\n        backgroundColor: '#363740',\n        height: '100vh',\n        width: '100vw'\n    },\n    containerLoadingFS: {\n        backgroundColor: 'rgba(0,0,0,.5)',\n        height: '100%',\n        minHeight: '100vh',\n        width: 'calc(100% - 0px)',\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        zIndex: 1000,\n        '@media (max-width: 1080px)': {\n            width: 'calc(100% - 0px)'\n        }\n    },\n    containerLoading: {\n        backgroundColor: 'rgba(0,0,0,.5)',\n        height: '100%',\n        minHeight: 210,\n        width: '100%',\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        zIndex: 1000,\n        '@media (max-width: 1080px)': {\n            width: 'calc(100% - 0px)'\n        }\n    },\n    loading: {\n        border: '16px solid #f3f3f3',\n        borderRadius: '50%',\n        borderTop: '16px solid #3498db',\n        width: 120,\n        height: 120,\n        '-webkit-animation': 'spin 2s linear infinite',\n        animationName: [\n            {\n                '0%': {\n                    transform: 'rotate(0deg)'\n                },\n                '100%': {\n                    transform: 'rotate(360deg)'\n                }\n            }\n        ],\n        animationDuration: '2s',\n        animationIterationCount: 'infinite'\n    },\n    loadingSpan: {\n        color: 'white',\n        marginTop: 10,\n        fontSize: 18\n    }\n});\n\nfunction InitializingComponent() {\n    return (\n        <Column\n            className={css(styles.container)}\n            horizontal=\"center\"\n            vertical=\"center\"\n        >\n            <div className={css(styles.loading)}></div>\n            <span className={css(styles.loadingSpan)}>Loading...</span>\n        </Column>\n    );\n}\n\nfunction LoadingComponent({ children, loading, fullScreen }) {\n    return (\n        <div style={{ position: 'relative' }}>\n            {loading && (\n                <Column\n                    className={css(\n                        fullScreen\n                            ? styles.containerLoadingFS\n                            : styles.containerLoading\n                    )}\n                    horizontal=\"center\"\n                    vertical=\"center\"\n                >\n                    <div className={css(styles.loading)}></div>\n                    <span className={css(styles.loadingSpan)}>Loading...</span>\n                </Column>\n            )}\n            {children}\n        </div>\n    );\n}\n\nexport default InitializingComponent;\n\nexport { LoadingComponent };\n","import React from 'react';\n\nexport default (props) => (\n    <svg width=\"60px\" height=\"60px\" viewBox=\"0 0 46 53\" version=\"1.1\" {...props} xmlns=\"http://www.w3.org/2000/svg\">\n    <g stroke={props.stroke || \"#535353\"} strokeWidth=\"2\" fill=\"none\">\n        <path d=\"M27.341524,11.9631422 L30,0 C30,0 23.7826757,3.97340822 21.4220338,3.97340822 C18.7826757,3.97340822 15,0 15,0 L17.658476,11.9631422 C19.2179078,11.3324063 20.8379076,11 22.5,11 C24.1620924,11 25.7820922,11.3324063 27.341524,11.9631422 Z\" id=\"Rectangle-1492\"></path>\n        <path d=\"M45,52 C45,29.3563253 34.9264069,11 22.5,11 C10.0735931,11 0,29.3563253 0,52 L45,52 Z\" id=\"Oval-1381\"></path>\n        <path d=\"M27.9628488,11.3259155 C27.9628488,11.3259155 31.3057317,6.15574969 35.6098409,6.15574936\" id=\"Path-3373\"></path>\n        <path d=\"M41.5227612,8.29153465 C41.5227612,8.29153465 39.3546815,12.6259799 27.9002187,11.5116041\" id=\"Path-3374\"></path>\n        <path d=\"M25,30 C25,28.3431458 23.6568542,27 22,27 C20.3431458,27 19,28.3431458 19,30 C19,31.6568542 20.3431458,33 22,33\" id=\"Oval-1383\"></path>\n        <path d=\"M22,39 L22,41\" id=\"Line-325\"></path>\n        <path d=\"M22,25 L22,27\" id=\"Line-326\"></path>\n        <path d=\"M19,36 C19,37.6568542 20.3431458,39 22,39 C23.6568542,39 25,37.6568542 25,36 C25,34.3431458 23.6568542,33 22,33\" id=\"Oval-1382\"></path>\n    </g>\n</svg>\n);\n","import React from 'react';\nimport { Row } from 'simple-flexbox';\nimport { StyleSheet, css } from 'aphrodite';\nimport Logo from '../../assets/icon-dollar';\n\nconst styles = StyleSheet.create({\n    container: {\n        marginLeft: 32,\n        marginRight: 32\n    },\n    title: {\n        fontFamily: 'Muli',\n        fontStyle: 'normal',\n        fontWeight: 'bold',\n        fontSize: 19,\n        lineHeight: '24px',\n        letterSpacing: '0.4px',\n        color: '#A4A6B3',\n        opacity: 0.7,\n        marginLeft: 12\n    },\n    wrapper: {\n        padding: 10,\n        paddingTop: 5,\n        backgroundColor: '#2c689c',\n        borderRadius: 40\n    }\n});\n\nfunction LogoComponent() {\n    return (\n        <Row\n            className={css(styles.container)}\n            horizontal=\"center\"\n            vertical=\"center\"\n        >\n            <div className={css(styles.wrapper)}>\n                <Logo stroke=\"white\" />\n            </div>\n            <span className={css(styles.title)}>Expenses</span>\n        </Row>\n    );\n}\n\nexport default LogoComponent;\n","import React from 'react';\nimport { bool, func, string } from 'prop-types';\nimport { Row } from 'simple-flexbox';\nimport { StyleSheet, css } from 'aphrodite';\n\nconst styles = StyleSheet.create({\n    activeContainer: {\n        backgroundColor: 'rgba(221,226,255, 0.08)'\n    },\n    activeBar: {\n        borderLeft: '3px solid #DDE2FF'\n    },\n    activeTitle: {\n        color: '#DDE2FF'\n    },\n    containerSubItem: {\n        height: 56,\n        cursor: 'pointer',\n        ':hover': {\n            backgroundColor: 'rgba(221,226,255, 0.08)'\n        },\n        paddingLeft: 64,\n        transition: 'all 0.2s ease-in-out'\n    },\n    inactiveBar: {\n        borderLeft: '3px solid #8b8d94'\n    },\n    title: {\n        fontFamily: 'Muli',\n        fontSize: 16,\n        lineHeight: '20px',\n        letterSpacing: '0.2px',\n        color: '#A4A6B3',\n        marginLeft: 24\n    }\n});\n\nfunction SubItemComponent(props, index) {\n    const { active, icon, onClick, title } = props;\n    return (\n        <Row\n            key={`subitem-${index}`}\n            className={css(\n                styles.containerSubItem,\n                active && styles.activeContainer,\n                active ? styles.activeBar : styles.inactiveBar\n            )}\n            vertical=\"center\"\n            onClick={onClick}\n        >\n            {icon}\n            <span className={css(styles.title, styles.activeTitle)}>\n                {title}\n            </span>\n        </Row>\n    );\n}\n\nSubItemComponent.propTypes = {\n    active: bool,\n    icon: func,\n    onClick: func,\n    title: string\n};\n\nexport default SubItemComponent;\n","import React from 'react';\nimport { arrayOf, bool, func, object, string } from 'prop-types';\nimport { Column, Row } from 'simple-flexbox';\nimport { StyleSheet, css } from 'aphrodite';\nimport CollapsibleContent from 'react-collapsible-content';\nimport SubItemComponent from './SubItemComponent';\n\nconst styles = StyleSheet.create({\n    activeContainer: {\n        backgroundColor: 'rgba(221,226,255, 0.08)'\n    },\n    activeBar: {\n        borderLeft: '3px solid #DDE2FF'\n    },\n    activeTitle: {\n        color: '#DDE2FF'\n    },\n    container: {\n        display: 'flex',\n        height: 56,\n        cursor: 'pointer',\n        ':hover': {\n            backgroundColor: 'rgba(221,226,255, 0.08)'\n        },\n        paddingLeft: 32,\n        paddingRight: 32,\n        transition: 'all 0.2s ease-in-out'\n    },\n    title: {\n        fontFamily: 'Muli',\n        fontSize: 16,\n        lineHeight: '20px',\n        letterSpacing: '0.2px',\n        color: '#A4A6B3',\n        marginLeft: 24\n    }\n});\n\nfunction MenuItemComponent(props) {\n    const { active, expanded, icon, subItems = [], title, onClick } = props;\n    const Icon = icon;\n\n    return (\n        <Column>\n            <Row\n                vertical=\"center\"\n                onClick={onClick}\n                className={`${css(\n                    styles.container,\n                    active && styles.activeContainer,\n                    active && styles.activeBar\n                )}`}\n            >\n                <Icon\n                    fill={active ? '#DDE2FF' : '#9FA2B4'}\n                    opacity={!active && '0.4'}\n                />\n                <span\n                    className={css(styles.title, active && styles.activeTitle)}\n                >\n                    {title}\n                </span>\n            </Row>\n            {subItems && subItems.length ? (\n                <CollapsibleContent expanded={expanded}>\n                    {subItems.map((s, i) => SubItemComponent({ ...s }, i))}\n                </CollapsibleContent>\n            ) : (\n                <div></div>\n            )}\n        </Column>\n    );\n}\n\nMenuItemComponent.propTypes = {\n    active: bool,\n    expanded: bool,\n    icon: func,\n    onClick: func,\n    subItems: arrayOf(object),\n    title: string\n};\n\nexport default MenuItemComponent;\n","import React from 'react';\n\nexport default (props) => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\">\n        <g clipPath=\"url(#clip0)\">\n            <path opacity={props.opacity || ''} d=\"M15.5232 8.94116H8.54412L13.1921 13.5891C13.3697 13.7667 13.6621 13.7812 13.8447 13.6091C14.9829 12.5367 15.7659 11.0912 15.9956 9.46616C16.035 9.18793 15.8041 8.94116 15.5232 8.94116V8.94116ZM15.0576 7.03528C14.8153 3.52176 12.0076 0.714119 8.49412 0.471767C8.22589 0.453237 8 0.679413 8 0.948236V7.5294H14.5815C14.8503 7.5294 15.0762 7.30352 15.0576 7.03528ZM6.58824 8.94116V1.96206C6.58824 1.68118 6.34147 1.45029 6.06353 1.48971C2.55853 1.985 -0.120585 5.04705 0.00412089 8.71675C0.132356 12.4856 3.37736 15.5761 7.14794 15.5288C8.6303 15.5103 10 15.0326 11.1262 14.2338C11.3585 14.0691 11.3738 13.727 11.1724 13.5256L6.58824 8.94116Z\"\n                fill={props.fill || \"#9FA2B4\"}\n            />\n        </g>\n        <defs>\n            <clipPath id=\"clip0\">\n                <rect width=\"16\" height=\"16\" fill=\"white\" />\n            </clipPath>\n        </defs>\n    </svg>\n);","import React from 'react';\n\nexport default (props) => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 297 297\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path opacity={props.opacity || ''} d=\"M155,6.5c-30.147,0-58.95,9.335-83.294,26.995c-2.789,2.023-3.547,5.853-1.739,8.787L92.83,79.374\n\t\t\t\tc0.962,1.559,2.53,2.649,4.328,3.004c1.796,0.354,3.661-0.054,5.145-1.129c14.23-10.323,31.069-15.78,48.698-15.78\n\t\t\t\tc45.783,0,83.03,37.247,83.03,83.03c0,45.783-37.247,83.03-83.03,83.03c-17.629,0-34.468-5.456-48.698-15.78\n\t\t\t\tc-1.484-1.076-3.349-1.486-5.145-1.129c-1.798,0.355-3.366,1.444-4.328,3.004l-22.863,37.093\n\t\t\t\tc-1.808,2.934-1.05,6.763,1.739,8.787C96.05,281.165,124.853,290.5,155,290.5c78.299,0,142-63.701,142-142S233.299,6.5,155,6.5z\"\n            fill={props.fill || \"#9FA2B4\"}\n        />\n        <path opacity={props.opacity || ''} d=\"M90.401,201.757c1.147-2.142,1.021-4.74-0.326-6.76l-15.463-23.195h93.566c12.849,0,23.302-10.453,23.302-23.302\n            s-10.453-23.302-23.302-23.302H74.612l15.463-23.195c1.348-2.02,1.473-4.618,0.326-6.76c-1.146-2.141-3.377-3.478-5.806-3.478\n            H40.019c-2.201,0-4.258,1.1-5.479,2.933L1.106,144.847c-1.475,2.212-1.475,5.093,0,7.306l33.433,50.149\n            c1.221,1.832,3.278,2.933,5.479,2.933h44.577C87.025,205.235,89.256,203.898,90.401,201.757z\"\n            fill={props.fill || \"#9FA2B4\"}\n        />\n    </svg>\n);\n","import React from 'react';\n\nexport default (props) => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 45.402 45.402\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path opacity={props.opacity || ''} d=\"M41.267,18.557H26.832V4.134C26.832,1.851,24.99,0,22.707,0c-2.283,0-4.124,1.851-4.124,4.135v14.432H4.141\n\t\tc-2.283,0-4.139,1.851-4.138,4.135c-0.001,1.141,0.46,2.187,1.207,2.934c0.748,0.749,1.78,1.222,2.92,1.222h14.453V41.27\n\t\tc0,1.142,0.453,2.176,1.201,2.922c0.748,0.748,1.777,1.211,2.919,1.211c2.282,0,4.129-1.851,4.129-4.133V26.857h14.435\n\t\tc2.283,0,4.134-1.867,4.133-4.15C45.399,20.425,43.548,18.557,41.267,18.557z\"\n            fill={props.fill || \"#9FA2B4\"}\n        />\n    </svg>\n);\n","import React from 'react';\n\nexport default (props) => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path opacity={props.opacity || ''} d=\"M15.2313 9.86557L13.9 9.09682C14.0344 8.37182 14.0344 7.62807 13.9 6.90307L15.2313 6.13432C15.3844 6.04682 15.4531 5.86557 15.4031 5.69682C15.0563 4.58432 14.4656 3.57807 13.6938 2.74057C13.575 2.61244 13.3813 2.58119 13.2313 2.66869L11.9 3.43744C11.3406 2.95619 10.6969 2.58432 10 2.34057V0.806191C10 0.631191 9.87814 0.478066 9.70627 0.440566C8.55939 0.184316 7.38439 0.196816 6.29377 0.440566C6.12189 0.478066 6.00002 0.631191 6.00002 0.806191V2.34369C5.30627 2.59057 4.66252 2.96244 4.10002 3.44057L2.77189 2.67182C2.61877 2.58432 2.42814 2.61244 2.30939 2.74369C1.53752 3.57807 0.946895 4.58432 0.60002 5.69994C0.546895 5.86869 0.61877 6.04994 0.771895 6.13744L2.10314 6.90619C1.96877 7.63119 1.96877 8.37494 2.10314 9.09994L0.771895 9.86869C0.61877 9.95619 0.55002 10.1374 0.60002 10.3062C0.946895 11.4187 1.53752 12.4249 2.30939 13.2624C2.42814 13.3906 2.62189 13.4218 2.77189 13.3343L4.10314 12.5656C4.66252 13.0468 5.30627 13.4187 6.00314 13.6624V15.1999C6.00314 15.3749 6.12502 15.5281 6.29689 15.5656C7.44377 15.8218 8.61877 15.8093 9.70939 15.5656C9.88127 15.5281 10.0031 15.3749 10.0031 15.1999V13.6624C10.6969 13.4156 11.3406 13.0437 11.9031 12.5656L13.2344 13.3343C13.3875 13.4218 13.5781 13.3937 13.6969 13.2624C14.4688 12.4281 15.0594 11.4218 15.4063 10.3062C15.4531 10.1343 15.3844 9.95307 15.2313 9.86557ZM8.00002 10.4999C6.62189 10.4999 5.50002 9.37807 5.50002 7.99994C5.50002 6.62182 6.62189 5.49994 8.00002 5.49994C9.37814 5.49994 10.5 6.62182 10.5 7.99994C10.5 9.37807 9.37814 10.4999 8.00002 10.4999Z\"\n            fill={props.fill || \"#9FA2B4\"}\n        />\n    </svg>\n);\n","import React from 'react';\n\nexport default (props) => (\n    <svg viewBox=\"0 0 141.732 141.732\" {...props} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill={props.fill || \"#000000\"} opacity={props.opacity || ''} d=\"M95.35,50.645c0,13.98-11.389,25.322-25.438,25.322c-14.051,0-25.438-11.342-25.438-25.322   c0-13.984,11.389-25.322,25.438-25.322C83.964,25.322,95.35,36.66,95.35,50.645 M121.743,50.645C121.743,22.674,98.966,0,70.866,0   C42.768,0,19.989,22.674,19.989,50.645c0,12.298,4.408,23.574,11.733,32.345l39.188,56.283l39.761-57.104   c1.428-1.779,2.736-3.654,3.916-5.625l0.402-0.574h-0.066C119.253,68.516,121.743,59.874,121.743,50.645\"></path>\n    </svg>\n);\n","import React from 'react';\n\nexport default (props) => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g clipPath=\"url(#clip0)\">\n            <path opacity={props.opacity || ''} d=\"M5.50187 14.1984C5.50219 14.395 5.56031 14.5875 5.66937 14.7512L6.20344 15.5541C6.29467 15.6913 6.41841 15.8039 6.56366 15.8817C6.7089 15.9596 6.87114 16.0003 7.03594 16.0003H8.96438C9.12917 16.0003 9.29141 15.9596 9.43665 15.8817C9.5819 15.8039 9.70564 15.6913 9.79688 15.5541L10.3309 14.7512C10.44 14.5875 10.4982 14.3952 10.4984 14.1984L10.4997 13H5.50031L5.50187 14.1984ZM2.5 5.5C2.5 6.88656 3.01406 8.15156 3.86125 9.11812C4.3775 9.70718 5.185 10.9378 5.49281 11.9759C5.49406 11.9841 5.495 11.9922 5.49625 12.0003H10.5037C10.505 11.9922 10.5059 11.9844 10.5072 11.9759C10.815 10.9378 11.6225 9.70718 12.1388 9.11812C12.9859 8.15156 13.5 6.88656 13.5 5.5C13.5 2.45656 11.0284 -0.00937887 7.98281 -3.87451e-06C4.795 0.00968363 2.5 2.59281 2.5 5.5ZM8 3C6.62156 3 5.5 4.12156 5.5 5.5C5.5 5.77625 5.27625 6 5 6C4.72375 6 4.5 5.77625 4.5 5.5C4.5 3.57 6.07 2 8 2C8.27625 2 8.5 2.22375 8.5 2.5C8.5 2.77625 8.27625 3 8 3Z\"\n                fill={props.fill || \"#9FA2B4\"} />\n            />\n        </g>\n        <defs>\n            <clipPath id=\"clip0\">\n                <rect width=\"16\" height=\"16\" fill=\"white\" />\n            </clipPath>\n        </defs>\n    </svg>\n);\n","import React from 'react';\n\nexport default (props) => (\n    <svg viewBox=\"0 0 207.002 207.002\" stroke={props.fill || \"currentColor\"} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}  xmlns=\"http://www.w3.org/2000/svg\">\n        <g>\n\t\t<path d=\"M199.502,0h-85.335c-1.989,0-3.897,0.79-5.304,2.197L2.197,108.865c-2.929,2.929-2.929,7.678,0,10.606l85.334,85.334\n\t\tc1.465,1.464,3.385,2.197,5.304,2.197c1.919,0,3.839-0.732,5.304-2.197L204.806,98.137c1.406-1.406,2.196-3.314,2.196-5.303V7.5\n\t\tC207.002,3.358,203.645,0,199.502,0z M192.002,89.728l-99.168,99.168l-74.728-74.728L117.274,15h74.729V89.728z\"/>\n\t\t<path d=\"M156.835,72.752c6.032,0,11.704-2.349,15.971-6.615c8.805-8.806,8.804-23.134-0.002-31.94\n\t\tc-4.266-4.265-9.938-6.614-15.97-6.614s-11.704,2.349-15.97,6.615c-8.805,8.806-8.805,23.134,0,31.94\n\t\tC145.13,70.403,150.802,72.752,156.835,72.752z M151.472,44.803c1.432-1.432,3.337-2.221,5.362-2.221\n\t\tc2.026,0,3.932,0.789,5.363,2.221c2.958,2.958,2.958,7.77,0.002,10.727c-1.433,1.433-3.338,2.222-5.364,2.222\n\t\ts-3.932-0.789-5.363-2.221C148.515,52.573,148.515,47.761,151.472,44.803z\"/>\n\t</g>\n    </svg>\n);\n","import React from 'react';\n\nexport default (props) => (\n    <svg viewBox=\"0 0 24 24\" stroke={props.fill || \"currentColor\"} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"23\"></line>\n        <path opacity={props.opacity || ''} d=\"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\"></path>\n    </svg>\n);\n","import React from 'react';\n\nexport default (props) => (\n    <svg viewBox=\"0 0 100.353 100.353\" stroke={props.fill || \"currentColor\"} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g>\n\t\t<path d=\"M89.381,19.52h-78.76c-3.983,0-7.224,3.241-7.224,7.224v4.828v10.404v31.281c0,3.983,3.241,7.223,7.224,7.223h78.76\n\t\tc3.983,0,7.223-3.24,7.223-7.223V41.976V31.572v-4.828C96.604,22.761,93.364,19.52,89.381,19.52z M6.396,26.744\n\t\tc0.001-2.33,1.895-4.224,4.224-4.224h78.76c2.329,0,4.223,1.895,4.223,4.224v3.328H6.396V26.744z M93.604,73.256\n\t\tc0,2.328-1.895,4.223-4.223,4.223h-78.76c-2.329,0-4.224-1.895-4.224-4.223V43.475h87.207V73.256z M93.604,40.475H6.397v-7.404\n\t\th87.207V40.475z\"/>\n\t\t<path d=\"M17.894,71.566c2.885,0,5.231-2.345,5.231-5.227c0-2.884-2.346-5.231-5.231-5.231c-2.883,0-5.229,2.347-5.229,5.231\n\t\tC12.665,69.221,15.011,71.566,17.894,71.566z M17.894,64.108c1.23,0,2.231,1.001,2.231,2.231c0,1.228-1.001,2.227-2.231,2.227\n\t\tc-1.229,0-2.229-0.999-2.229-2.227C15.665,65.109,16.665,64.108,17.894,64.108z\"/>\n\t\t<path d=\"M29.08,68.015h42.264c0.829,0,1.5-0.671,1.5-1.5s-0.671-1.5-1.5-1.5H29.08c-0.829,0-1.5,0.671-1.5,1.5\n\t\tC27.58,67.344,28.251,68.015,29.08,68.015z\"/>\n\t</g>\n    </svg>\n);\n","import React from 'react';\n\nexport default (props) => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g clipPath=\"url(#clip0)\">\n            <path opacity={props.opacity || ''} d=\"M5.035 11.3322C4.76344 11.0606 4.905 11.1372 4.25 10.9619C3.95281 10.8822 3.69156 10.7291 3.45531 10.5456L2.0375 14.0219C1.90031 14.3584 2.15656 14.7241 2.51969 14.7103L4.16625 14.6475L5.29875 15.8437C5.54875 16.1075 5.9875 16.0253 6.12469 15.6887L7.75125 11.7006C7.4125 11.8894 7.03656 12 6.64781 12C6.03844 12 5.46594 11.7628 5.035 11.3322ZM13.9625 14.0219L12.5447 10.5456C12.3084 10.7294 12.0472 10.8822 11.75 10.9619C11.0916 11.1381 11.2359 11.0612 10.965 11.3322C10.5341 11.7628 9.96125 12 9.35188 12C8.96313 12 8.58719 11.8891 8.24844 11.7006L9.875 15.6887C10.0122 16.0253 10.4513 16.1075 10.7009 15.8437L11.8338 14.6475L13.4803 14.7103C13.8434 14.7241 14.0997 14.3581 13.9625 14.0219ZM10.2188 10.625C10.6963 10.1391 10.7509 10.1809 11.4309 9.99562C11.865 9.87718 12.2044 9.53187 12.3206 9.08999C12.5544 8.20249 12.4938 8.30968 13.1316 7.66031C13.4494 7.33687 13.5734 6.8653 13.4572 6.42343C13.2238 5.53655 13.2234 5.66031 13.4572 4.77249C13.5734 4.33062 13.4494 3.85906 13.1316 3.53562C12.4938 2.88624 12.5544 2.99312 12.3206 2.10593C12.2044 1.66406 11.865 1.31874 11.4309 1.20031C10.5597 0.962493 10.6647 1.02468 10.0263 0.374993C9.70844 0.0515551 9.245 -0.0750074 8.81094 0.0434301C7.94 0.28093 8.06156 0.281243 7.18906 0.0434301C6.755 -0.0750074 6.29156 0.0512426 5.97375 0.374993C5.33594 1.02437 5.44094 0.962493 4.56938 1.20031C4.13531 1.31874 3.79594 1.66406 3.67969 2.10593C3.44625 2.99312 3.50656 2.88624 2.86875 3.53562C2.55094 3.85906 2.42656 4.33062 2.54313 4.77249C2.77656 5.65874 2.77688 5.53499 2.54313 6.42312C2.42688 6.86499 2.55094 7.33656 2.86875 7.66031C3.50656 8.30968 3.44594 8.20249 3.67969 9.08999C3.79594 9.53187 4.13531 9.87718 4.56938 9.99562C5.26875 10.1862 5.32094 10.1562 5.78125 10.625C6.19469 11.0459 6.83875 11.1212 7.33563 10.8069C7.53432 10.6807 7.76481 10.6137 8.00016 10.6137C8.23551 10.6137 8.466 10.6807 8.66469 10.8069C9.16125 11.1212 9.80531 11.0459 10.2188 10.625ZM5.05188 5.49874C5.05188 3.84156 6.37188 2.49812 8 2.49812C9.62813 2.49812 10.9481 3.84156 10.9481 5.49874C10.9481 7.15593 9.62813 8.49937 8 8.49937C6.37188 8.49937 5.05188 7.15593 5.05188 5.49874Z\"\n                fill={props.fill || \"#9FA2B4\"}\n            />\n        </g>\n        <defs>\n            <clipPath id=\"clip0\">\n                <rect width=\"16\" height=\"16\" fill=\"white\" />\n            </clipPath>\n        </defs>\n    </svg>\n);\n","import React from 'react';\n\nexport default props => (\n    <svg\n        width={props.width || '16'}\n        height={props.height || '16'}\n        viewBox=\"0 0 100.75 100.748\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n    >\n        <g fill={props.fill || '#9FA2B4'} opacity={props.opacity || ''}>\n            <path\n                d=\"M17.313,56.946c0-0.803-0.65-1.453-1.453-1.453s-1.453,0.65-1.453,1.453c0,4.053,3.59,7.411,8.252,7.996v6.205\n\t\tc0,0.803,0.65,1.453,1.453,1.453s1.453-0.65,1.453-1.453V64.94c4.656-0.592,8.238-3.946,8.238-7.993\n\t\tc0-4.045-3.583-7.395-8.238-7.986V38.614c3.045,0.51,5.332,2.585,5.332,5.064c0,0.803,0.65,1.453,1.453,1.453\n\t\ts1.453-0.65,1.453-1.453c0-4.049-3.583-7.403-8.238-7.992v-6.213c0-0.803-0.65-1.453-1.453-1.453s-1.453,0.65-1.453,1.453v6.213\n\t\tc-4.663,0.588-8.252,3.942-8.252,7.992c0,4.046,3.589,7.399,8.252,7.985v10.352C19.607,61.507,17.313,59.429,17.313,56.946z\n\t\t M30.897,56.946c0,2.477-2.287,4.552-5.332,5.065V51.888C28.61,52.4,30.897,54.472,30.897,56.946z M17.313,43.678\n\t\tc0-2.479,2.293-4.555,5.346-5.064v10.122C19.606,48.227,17.313,46.154,17.313,43.678z\"\n            />\n            <path\n                d=\"M96.51,20.412H3.492c-0.803,0-1.453,0.65-1.453,1.453v59.19c0,0.803,0.65,1.453,1.453,1.453H96.51\n\t\tc0.803,0,1.453-0.65,1.453-1.453v-59.19C97.963,21.062,97.312,20.412,96.51,20.412z M95.057,79.602H4.945V23.318h90.111V79.602z\"\n            />\n            <path\n                d=\"M45.77,40.236h42.282c0.803,0,1.453-0.65,1.453-1.453s-0.65-1.453-1.453-1.453H45.77c-0.803,0-1.453,0.65-1.453,1.453\n\t\tS44.967,40.236,45.77,40.236z\"\n            />\n            <path\n                d=\"M45.77,51.762h42.282c0.803,0,1.453-0.65,1.453-1.453c0-0.803-0.65-1.453-1.453-1.453H45.77\n\t\tc-0.803,0-1.453,0.65-1.453,1.453C44.317,51.111,44.967,51.762,45.77,51.762z\"\n            />\n            <path\n                d=\"M45.77,65.583h42.282c0.803,0,1.453-0.65,1.453-1.453s-0.65-1.453-1.453-1.453H45.77c-0.803,0-1.453,0.65-1.453,1.453\n\t\tS44.967,65.583,45.77,65.583z\"\n            />\n        </g>\n    </svg>\n);\n","import { useState, useEffect } from 'react';\nimport useReactRouter from 'use-react-router';\n\nfunction useSidebar({ defaultPath = '' } = {}) {\n    const { history, location } = useReactRouter();\n\n    const [isOpen, setIsOpen] = useState(false);\n    const [selectedItem, setSelectedItem] = useState({\n        path: defaultPath || location.pathname,\n        expanded: true\n    });\n\n    useEffect(() => {\n        if (location.pathname !== selectedItem.path) {\n            onMenuItemClicked(location.pathname, {\n                expanded: true\n            });\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [location.pathname]);\n\n    const isActive = (path, exact) =>\n        selectedItem.path === path ||\n        (!exact && selectedItem.path.indexOf(`${path}/`) === 0);\n\n    const onMenuItemClicked = (path, { expanded, isCollapsible } = {}) => {\n        const newItem = {\n            path,\n            expanded: expanded !== undefined ? expanded : true\n        };\n        if (!isCollapsible) {\n            setIsOpen(false);\n            setSelectedItem(newItem);\n            return history.push(path);\n        }\n\n        if (isActive(path)) {\n            newItem.path = selectedItem.path;\n            newItem.expanded = !selectedItem.expanded;\n            return setSelectedItem(prevValue => ({\n                ...prevValue,\n                expanded: !prevValue.expanded\n            }));\n        }\n\n        setSelectedItem(newItem);\n        return history.push(path);\n    };\n\n    const isExpanded = path => isActive(path) && selectedItem.expanded;\n\n    return {\n        isOpen,\n        isExpanded,\n        isActive,\n        onMenuItemClicked,\n        setIsOpen\n    };\n}\n\nexport default useSidebar;\n","import React, { useState } from 'react';\nimport { StyleSheet, css } from 'aphrodite';\nimport { useExpenses } from '../../logic/useExpenses';\nimport { LoadingComponent } from '../InitializingComponent';\nimport LogoComponent from './LogoComponent';\nimport MenuItemComponent from './MenuItemComponent';\nimport IconOverview from '../../assets/icon-overview.js';\nimport IconLogout from '../../assets/icon-logout.js';\nimport IconPlus from '../../assets/icon-plus.js';\nimport IconSettings from '../../assets/icon-settings';\nimport IconLocation from '../../assets/icon-location';\nimport IconIdeas from '../../assets/icon-ideas';\nimport IconTag from '../../assets/icon-tag';\nimport IconDollarCurrency from '../../assets/icon-dollar-currency';\nimport IconCreditCard from '../../assets/icon-creditcard';\nimport IconSubscription from '../../assets/icon-subscription';\nimport IconReceipt from '../../assets/icon-receipt.js';\nimport { slide as Menu } from 'react-burger-menu';\nimport useSidebar from './useSidebar';\n\nconst stylesSeparator = StyleSheet.create({\n    separator: {\n        borderTop: '1px solid #DFE0EB',\n        marginTop: 16,\n        marginBottom: 16,\n        opacity: 0.06\n    }\n});\n\nconst styles = {\n    bmBurgerButton: {\n        position: 'absolute',\n        width: 26,\n        height: 20,\n        left: 24,\n        top: 20\n    },\n    bmBurgerBars: {\n        background: '#373a47'\n    },\n    bmBurgerBarsHover: {\n        background: '#a90000'\n    },\n    bmCrossButton: {\n        display: 'none'\n    },\n    bmCross: {\n        background: '#bdc3c7'\n    },\n    bmMenuWrap: {\n        position: 'fixed',\n        height: '100%',\n        width: 255\n    },\n    bmMenu: {\n        background: '#373a47'\n    },\n    bmItem: {\n        outline: 'none',\n        ':focus': {\n            outline: 'none'\n        }\n    },\n    bmMorphShape: {\n        fill: '#373a47'\n    },\n    bmOverlay: {\n        background: 'rgba(0, 0, 0, 0.3)'\n    }\n};\n\nfunction SidebarComponent() {\n    const { initializing, logout, user } = useExpenses();\n    const [loading, setLoading] = useState(false);\n    const {\n        isOpen,\n        isExpanded,\n        isActive,\n        onMenuItemClicked,\n        setIsOpen\n    } = useSidebar();\n\n    const isMobile = window.innerWidth <= 1080;\n\n    const sheets = Object.keys((user || {}).sheets || {})\n        .map((value, index) => {\n            const sheet = user.sheets[value];\n            const metadata = sheet.metadata || {};\n            return {\n                position:\n                    metadata.position !== undefined ? metadata.position : index,\n                show: metadata.show !== undefined ? metadata.show : true,\n                id: sheet.id,\n                name: sheet.name\n            };\n        })\n        .filter(s => s.show)\n        .sort((a, b) => a.position - b.position);\n\n    const doLogout = () => {\n        setLoading(true);\n        logout();\n    };\n\n    return (\n        <Menu\n            isOpen={!isMobile || isOpen}\n            noOverlay={!isMobile}\n            disableCloseOnEsc\n            styles={styles}\n            onStateChange={state => setIsOpen(state.isOpen)}\n        >\n            <LoadingComponent loading={initializing || loading} fullScreen />\n            <div style={{ paddingTop: 30, paddingBottom: 30 }}>\n                <LogoComponent />\n            </div>\n            <MenuItemComponent\n                title=\"Dashboard\"\n                icon={IconSubscription}\n                onClick={() => onMenuItemClicked('/dashboard')}\n                active={isActive('/dashboard')}\n            />\n\n            {sheets.map(s => (\n                <MenuItemComponent\n                    key={`sheet-${s.id}`}\n                    title={s.name}\n                    icon={IconOverview}\n                    onClick={() =>\n                        onMenuItemClicked(`/sheet/${s.id}`, {\n                            isCollapsible: true\n                        })\n                    }\n                    active={isActive(`/sheet/${s.id}`)}\n                    expanded={isExpanded(`/sheet/${s.id}`)}\n                    subItems={[\n                        {\n                            title: 'Expenses',\n                            icon: (\n                                <IconReceipt\n                                    height={20}\n                                    width={20}\n                                    fill={'#DDE2FF'}\n                                />\n                            ),\n                            onClick: () => onMenuItemClicked(`/sheet/${s.id}`),\n                            active: isActive(`/sheet/${s.id}`, true)\n                        },\n                        {\n                            title: 'Categories',\n                            icon: <IconIdeas width={16} fill={'#DDE2FF'} />,\n\n                            onClick: () =>\n                                onMenuItemClicked(`/sheet/${s.id}/categories`),\n                            active: isActive(`/sheet/${s.id}/categories`)\n                        },\n                        {\n                            title: 'Cities',\n                            icon: <IconLocation width={16} fill={'#DDE2FF'} />,\n\n                            onClick: () =>\n                                onMenuItemClicked(`/sheet/${s.id}/cities`),\n                            active: isActive(`/sheet/${s.id}/cities`)\n                        },\n                        {\n                            title: 'Currencies',\n                            icon: (\n                                <IconDollarCurrency\n                                    width={20}\n                                    fill={'#DDE2FF'}\n                                    style={{ marginRight: -4 }}\n                                />\n                            ),\n\n                            onClick: () =>\n                                onMenuItemClicked(`/sheet/${s.id}/currencies`),\n                            active: isActive(`/sheet/${s.id}/currencies`)\n                        },\n                        {\n                            title: 'Methods',\n                            icon: (\n                                <IconCreditCard\n                                    width={20}\n                                    fill={'#DDE2FF'}\n                                    style={{ marginRight: -4 }}\n                                />\n                            ),\n\n                            onClick: () =>\n                                onMenuItemClicked(`/sheet/${s.id}/methods`),\n                            active: isActive(`/sheet/${s.id}/methods`)\n                        },\n                        {\n                            title: 'Tags',\n                            icon: (\n                                <IconTag\n                                    width={20}\n                                    fill={'#DDE2FF'}\n                                    style={{ marginRight: -4 }}\n                                />\n                            ),\n\n                            onClick: () =>\n                                onMenuItemClicked(`/sheet/${s.id}/tags`),\n                            active: isActive(`/sheet/${s.id}/tags`)\n                        },\n                        {\n                            title: 'Add Expense',\n                            icon: <IconPlus width={16} fill={'#DDE2FF'} />,\n\n                            onClick: () =>\n                                onMenuItemClicked(`/sheet/${s.id}/new`),\n                            active: isActive(`/sheet/${s.id}/new`)\n                        },\n                        {\n                            title: 'Settings',\n                            icon: <IconSettings width={16} fill={'#DDE2FF'} />,\n\n                            onClick: () =>\n                                onMenuItemClicked(`/sheet/${s.id}/settings`),\n                            active: isActive(`/sheet/${s.id}/settings`)\n                        }\n                    ]}\n                />\n            ))}\n\n            <MenuItemComponent\n                title=\"Add Sheet\"\n                icon={IconPlus}\n                onClick={() => onMenuItemClicked('/newsheet')}\n                active={isActive('/newsheet')}\n            />\n            <div className={css(stylesSeparator.separator)}></div>\n            <MenuItemComponent\n                title=\"Settings\"\n                icon={IconSettings}\n                onClick={() => onMenuItemClicked('/settings')}\n                active={isActive('/settings')}\n            />\n            <MenuItemComponent\n                title=\"Logout\"\n                icon={IconLogout}\n                onClick={() => doLogout()}\n            />\n        </Menu>\n    );\n}\n\nexport default SidebarComponent;\n","import React from 'react';\n\nexport default (props) => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <circle cx=\"6.5\" cy=\"6.5\" r=\"5.75\" stroke=\"#C5C7CD\" strokeWidth=\"1.5\" />\n        <path d=\"M11 11L15 15\" stroke=\"#C5C7CD\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n    </svg>\n);\n","import React from 'react';\n\nexport default (props) => (\n    <svg width=\"18\" height=\"19\" viewBox=\"0 0 18 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M7.99999 19C9.10374 19 9.99905 18.1047 9.99905 17H6.00093C6.00093 18.1047 6.89624 19 7.99999 19ZM14.7309 14.3216C14.1272 13.6728 12.9975 12.6969 12.9975 9.5C12.9975 7.07188 11.295 5.12812 8.99937 4.65125V4C8.99937 3.44781 8.55187 3 7.99999 3C7.44812 3 7.00062 3.44781 7.00062 4V4.65125C4.70499 5.12812 3.00249 7.07188 3.00249 9.5C3.00249 12.6969 1.8728 13.6728 1.26905 14.3216C1.08155 14.5231 0.998429 14.7641 0.999991 15C1.00343 15.5125 1.40562 16 2.00312 16H13.9969C14.5944 16 14.9969 15.5125 15 15C15.0016 14.7641 14.9184 14.5228 14.7309 14.3216Z\" fill=\"#C5C7CD\" />\n        <circle cx=\"13\" cy=\"5\" r=\"3.75\" fill=\"#3751FF\" stroke=\"#F7F8FC\" strokeWidth=\"1.5\" />\n    </svg>\n);\n","import React, { useEffect } from 'react';\nimport { string } from 'prop-types';\nimport { Row } from 'simple-flexbox';\nimport { StyleSheet, css } from 'aphrodite';\nimport useReactRouter from 'use-react-router';\nimport { useExpenses } from '../../logic/useExpenses';\nimport IconSearch from '../../assets/icon-search';\nimport IconBellNew from '../../assets/icon-bell-new';\n\nconst styles = StyleSheet.create({\n    avatar: {\n        height: 35,\n        width: 35,\n        borderRadius: 50,\n        marginLeft: 14,\n        border: '1px solid #DFE0EB'\n    },\n    container: {\n        height: 40\n    },\n    cursorPointer: {\n        cursor: 'pointer'\n    },\n    name: {\n        fontFamily: 'Muli',\n        fontStyle: 'normal',\n        fontWeight: 600,\n        fontSize: 14,\n        lineHeight: '20px',\n        textAlign: 'right',\n        letterSpacing: 0.2,\n        '@media (max-width: 1080px)': {\n            display: 'none'\n        }\n    },\n    separator: {\n        borderLeft: '1px solid #DFE0EB',\n        marginLeft: 32,\n        marginRight: 32,\n        height: 32,\n        width: 2,\n        '@media (max-width: 1080px)': {\n            marginLeft: 12,\n            marginRight: 12\n        }\n    },\n    title: {\n        display: 'none',\n        fontFamily: 'Muli',\n        fontStyle: 'normal',\n        fontWeight: 'bold',\n        fontSize: 24,\n        lineHeight: '30px',\n        letterSpacing: 0.3,\n        textOverflow: 'ellipsis',\n        overflow: 'hidden',\n        whiteSpace: 'nowrap',\n        '@media (max-width: 1080px)': {\n            display: 'block',\n            marginLeft: 50\n        },\n        '@media (max-width: 468px)': {\n            fontSize: 20\n        }\n    },\n    iconStyles: {\n        cursor: 'pointer',\n        marginLeft: 25,\n        '@media (max-width: 1080px)': {\n            marginLeft: 12\n        }\n    }\n});\n\nfunction HeaderComponent(props) {\n    const { logout, user } = useExpenses();\n    const { location } = useReactRouter();\n\n    useEffect(() => {\n        if (location.pathname.indexOf('/sheet/') === 0 && user) {\n            const sheetId = location.pathname.split('/')[2];\n            const sheet = user.sheets[sheetId];\n            if (!sheet) {\n                logout();\n            }\n        }\n    }, [location, logout, user]);\n\n    if (!user) {\n        return <div></div>;\n    }\n\n    let title = '';\n    if (location.pathname.indexOf('/sheet/') === 0) {\n        const sheetId = location.pathname.split('/')[2];\n        const sheet = user.sheets[sheetId];\n        if (sheet) {\n            title = sheet.name;\n        } else {\n            title = '';\n        }\n    }\n\n    return (\n        <Row\n            className={css(styles.container)}\n            vertical=\"center\"\n            horizontal=\"space-between\"\n            {...props}\n        >\n            <span className={css(styles.title)}>{title}</span>\n            <Row flexGrow={1} vertical=\"center\" horizontal=\"flex-end\">\n                <div className={css(styles.iconStyles)}>\n                    <IconSearch />\n                </div>\n                <div className={css(styles.iconStyles)}>\n                    <IconBellNew />\n                </div>\n                <div className={css(styles.separator)}></div>\n                <Row vertical=\"center\">\n                    <span className={css(styles.name, styles.cursorPointer)}>\n                        {user.name}\n                    </span>\n                    <img\n                        src={user.photoUrl}\n                        alt=\"avatar\"\n                        className={css(styles.avatar, styles.cursorPointer)}\n                    />\n                </Row>\n            </Row>\n        </Row>\n    );\n}\n\nHeaderComponent.propTypes = {\n    title: string\n};\n\nexport default HeaderComponent;\n","import React from 'react';\nimport Notification from 'rc-notification';\nimport 'rc-notification/assets/index.css';\n\nlet notification = null;\nNotification.newInstance(\n    {\n        style: {\n            top: 0,\n            left: 0,\n            width: '100%',\n            zIndex: 1101\n        }\n    },\n    n => (notification = n)\n);\n\nexport default {\n    show: ({ key, message, style }) =>\n        notification.notice({\n            content: <span>{message}</span>,\n            style: {\n                right: 0,\n                margin: 0,\n                padding: 0,\n                width: '100%',\n                backgroundColor: 'red',\n                color: '#FFFFFF',\n                borderRadius: 0,\n                textAlign: 'center',\n                ...style\n            },\n            duration: null,\n            key\n        }),\n    hide: key => notification.removeNotice(key)\n};\n","import React, { useState } from 'react';\nimport { StyleSheet, css } from 'aphrodite';\nimport { Column, Row } from 'simple-flexbox';\nimport { useExpenses } from '../../logic/useExpenses';\nimport { LoadingComponent } from '../../commons/InitializingComponent';\nimport GoogleButton from '../../assets/google_button.jpg';\n\nconst styles = StyleSheet.create({\n    container: {\n        backgroundColor: '#363740',\n        height: '100%',\n        minHeight: '100vh',\n        padding: 10\n    },\n    loginBox: {\n        backgroundColor: '#F7F8FC',\n        border: '1px solid #3498db',\n        borderRadius: 6,\n        width: '100%',\n        maxWidth: 300,\n        height: '100%',\n        maxHeight: 300\n    },\n    loginTitle: {\n        fontSize: 20,\n        marginTop: 20,\n        marginBottom: 20\n    },\n    googleLoginButton: {\n        padding: 4,\n        background: 'white',\n        color: '#444',\n        width: '80%',\n        borderRadius: 5,\n        border: 'thin solid #888',\n        boxShadow: '1px 1px 1px grey',\n        whiteWpace: 'nowrap',\n        ':hover': {\n            cursor: 'pointer'\n        },\n        ':nth-child(n) > div > span': {\n            verticalAlign: 'middle',\n            fontSize: 14,\n            fontWeight: 'bold'\n            /* Use the Roboto font that is loaded in the <head> */\n            // fontFamily: 'Roboto', sans-serif;\n        }\n    }\n});\n\nfunction LoginComponent() {\n    const [loading, setLoading] = useState(false);\n    const { initializing, login } = useExpenses();\n\n    const doLogin = async () => {\n        setLoading(true);\n        try {\n            await login();\n        } catch (e) {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <LoadingComponent loading={initializing || loading} fullScreen>\n            <Column\n                horizontal=\"center\"\n                vertical=\"center\"\n                className={css(styles.container)}\n            >\n                <Column\n                    horizontal=\"center\"\n                    flexGrow={1}\n                    className={css(styles.loginBox)}\n                >\n                    <span className={css(styles.loginTitle)}>Login</span>\n                    <Column\n                        flexGrow={1}\n                        style={{ width: '100%', marginTop: -40 }}\n                        vertical=\"center\"\n                        horizontal=\"center\"\n                    >\n                        <Row\n                            vertical=\"center\"\n                            className={css(styles.googleLoginButton)}\n                            onClick={() => doLogin()}\n                        >\n                            <img\n                                src={GoogleButton}\n                                height={42}\n                                width={42}\n                                alt=\"google_button\"\n                            />\n                            <Row\n                                flexGrow={1}\n                                horizontal=\"center\"\n                                vertical=\"center\"\n                            >\n                                <span>Google</span>\n                            </Row>\n                        </Row>\n                    </Column>\n                </Column>\n            </Column>\n        </LoadingComponent>\n    );\n}\n\nLoginComponent.whyDidYouRender = false;\n\nexport default LoginComponent;\n","import moment from 'moment';\n\nexport const numberFormat = (value, decimals = 2) => {\n    let number = value.toString().replace(',', '.');\n    number = Number(number);\n    // if (number > 999) {\n    //     return number.toFixed(0);\n    // }\n    return number.toFixed(decimals);\n};\n\nexport const getDaysInPeriod = period =>\n    moment(`${period}-01`, 'YYYY-MM-DD').daysInMonth();\n\nexport const isDateBetweenDates = (date, from, to) => {\n    const value = moment(date);\n    return (\n        (!from || moment(from).isSameOrBefore(value, 'day')) &&\n        (!to || moment(to).isSameOrAfter(value, 'day'))\n    );\n};\n\nexport const isFileAnImage = file =>\n    !(\n        (file.type && file.type !== 'image/jpeg') ||\n        (file.path &&\n            file.path\n                .split('.')\n                .pop()\n                .toLowerCase() === 'pdf') ||\n        (file.url &&\n            file.url\n                .split('.')\n                .pop()\n                .toLowerCase() === 'pdf')\n    );\n\nexport const sortExpensesByDate = data => {\n    const array = [...data];\n    array.sort((a, b) => {\n        a = a.date;\n        b = b.date;\n        return a > b ? -1 : a < b ? 1 : 0;\n    });\n    return array;\n};\n\nexport const applyFilters = (\n    expenses,\n    {\n        amountFrom,\n        amountTo,\n        categories,\n        cities,\n        currencies,\n        dateFrom,\n        dateTo,\n        methods,\n        tags\n    }\n) => {\n    return expenses.filter(\n        expense =>\n            (!categories ||\n                categories.length === 0 ||\n                categories.includes(expense.category)) &&\n            (!cities || cities.length === 0 || cities.includes(expense.city)) &&\n            (!currencies ||\n                currencies.length === 0 ||\n                currencies.includes(expense.currency)) &&\n            (!methods ||\n                methods.length === 0 ||\n                methods.includes(expense.method)) &&\n            (!tags ||\n                tags.length === 0 ||\n                expense.tags.split(',').filter(tag => tags.includes(tag))\n                    .length > 0) &&\n            isDateBetweenDates(expense.date, dateFrom, dateTo) &&\n            (!amountFrom || Number(amountFrom) <= expense.amount) &&\n            (!amountTo || Number(amountTo) >= expense.amount)\n    );\n};\n","import React from 'react';\n\nexport default (props) => (\n    <svg viewBox=\"2 2 18 18\" {...props} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill={props.fill || \"#000000\"} opacity={props.opacity || ''} d=\"M 6 3 C 6 3 5 2.99997 5 4 L 3 4 L 3 7 L 3 18 L 3 19 L 19 19 L 19 18 L 19 7 L 19 4 L 17 4 C 17 2.99997 16 3 16 3 L 13 3 C 13 3 12 2.99997 12 4 L 10 4 C 10 2.99997 9 3 9 3 L 6 3 z M 6 4 L 9 4 L 9 5 L 6 5 L 6 4 z M 13 4 L 16 4 L 16 5 L 13 5 L 13 4 z M 4 7 L 18 7 L 18 18 L 4 18 L 4 7 z M 6 8 L 6 10 L 8 10 L 8 8 L 6 8 z M 10 8 L 10 10 L 12 10 L 12 8 L 10 8 z M 14 8 L 14 10 L 16 10 L 16 8 L 14 8 z M 6 11 L 6 13 L 8 13 L 8 11 L 6 11 z M 10 11 L 10 13 L 12 13 L 12 11 L 10 11 z M 14 11 L 14 13 L 16 13 L 16 11 L 14 11 z M 14 14 L 14 16 L 16 16 L 16 14 L 14 14 z \"></path>\n    </svg>\n);\n","import React, { forwardRef } from 'react';\nimport { StyleSheet, css } from 'aphrodite';\nimport { Column, Row } from 'simple-flexbox';\nimport moment from 'moment';\nimport { numberFormat } from '../../logic/utilities';\nimport IconCalendar from '../../assets/icon-calendar';\nimport IconLocation from '../../assets/icon-location';\n\nconst styles = StyleSheet.create({\n    amount: {\n        whiteSpace: 'nowrap',\n        fontSize: 27,\n        lineHeight: '27px',\n        fontWeight: 600\n    },\n    category: {\n        fontSize: 20,\n        fontWeight: 600,\n        lineHeight: '21px',\n        whiteSpace: 'nowrap'\n    },\n    container: {\n        backgroundColor: '#FDFDFD',\n        border: '1px solid #E7EBF0',\n        borderRadius: 4,\n        color: '#172b4d',\n        marginBottom: 10,\n        minHeight: 80,\n        padding: '10px 20px',\n        '@media (max-width: 488px)': {\n            padding: '5px 10px'\n        },\n        ':last-child': {\n            marginBottom: 0\n        }\n    },\n    currency: {\n        fontSize: 10,\n        marginBottom: 2,\n        marginLeft: 2\n    },\n    editButton: {\n        backgroundColor: '#FFFFFF',\n        border: '1px solid rgb(35, 112, 163)',\n        borderRadius: 5,\n        color: 'rgb(35, 112, 163)',\n        cursor: 'pointer',\n        fontWeight: 500,\n        padding: '2px 8px',\n        textAlign: 'center',\n        ':hover': {\n            backgroundColor: '#FCFCFC'\n        }\n    },\n    lastColumn: {\n        maxWidth: 300,\n        minWidth: 10,\n        '@media (max-width: 654px)': {\n            flexDirection: 'row-reverse',\n            justifyContent: 'space-between',\n            marginTop: 10,\n            width: '100%',\n            maxWidth: 'none'\n        }\n    },\n    method: {\n        fontSize: 18,\n        marginTop: 10\n    },\n    tag: {\n        borderRadius: 5,\n        fontWeight: 600,\n        padding: '8px 8px',\n        textAlign: 'center',\n        marginTop: 4,\n        marginRight: 4\n    }\n});\n\nconst ExpenseItem = forwardRef(({ expense, tags, onEditClick }, ref) => {\n    return (\n        <Column className={css(styles.container)} componentRef={ref}>\n            <Row horizontal=\"spaced\" breakpoints={{ 654: 'column' }}>\n                <Row flexGrow={3}>\n                    <Column\n                        flexGrow={1}\n                        vertical=\"spaced\"\n                        style={{ maxWidth: 300, minWidth: 300 }}\n                        breakpoints={{\n                            744: { minWidth: 200 },\n                            488: { minWidth: 150, maxWidth: 150 },\n                            360: { minWidth: 120, maxWidth: 120 }\n                        }}\n                    >\n                        <Row nowrap={'true'} vertical=\"end\">\n                            <Row className={css(styles.amount)}>\n                                $ {numberFormat(expense.amount, 0)}\n                            </Row>\n                            <span className={css(styles.currency)}>\n                                / {expense.currency}\n                            </span>\n                        </Row>\n                        <Row\n                            style={{ marginTop: 10 }}\n                            nowrap={'true'}\n                            vertical=\"center\"\n                        >\n                            <IconCalendar width={22} />\n                            <span style={{ marginLeft: 4 }}>\n                                {moment(+expense.date).format('DD/MM/YYYY')}\n                            </span>\n                        </Row>\n                        <Row\n                            style={{ marginTop: 10 }}\n                            nowrap={'true'}\n                            vertical=\"center\"\n                        >\n                            <IconLocation width={22} />\n                            <span style={{ marginLeft: 4 }}>\n                                {expense.city}\n                            </span>\n                        </Row>\n                    </Column>\n                    <Column\n                        flexGrow={1}\n                        vertical=\"spaced\"\n                        breakpoints={{\n                            744: { minWidth: 200 },\n                            488: { marginTop: 10, minWidth: 0 },\n                            340: { marginLeft: 4 }\n                        }}\n                    >\n                        <Column>\n                            <span className={css(styles.category)}>\n                                {expense.category}\n                            </span>\n                            <span style={{ marginTop: 4, fontSize: 12 }}>\n                                {expense.description}\n                            </span>\n                        </Column>\n                        <span className={css(styles.method)}>\n                            {expense.method}\n                        </span>\n                    </Column>\n                </Row>\n                <Column\n                    className={css(styles.lastColumn)}\n                    flexGrow={1}\n                    horizontal=\"end\"\n                    vertical=\"spaced\"\n                >\n                    <span\n                        onClick={() => onEditClick(expense.id)}\n                        className={css(styles.editButton)}\n                    >\n                        EDIT\n                    </span>\n                    <Row\n                        wrap\n                        horizontal=\"end\"\n                        breakpoints={{\n                            654: { justifyContent: 'flex-start' }\n                        }}\n                    >\n                        {expense.tags &&\n                            expense.tags.length > 0 &&\n                            expense.tags.split(',').map((t, i) => (\n                                <span\n                                    key={`${i}-${t}`}\n                                    className={css(styles.tag)}\n                                    style={{\n                                        backgroundColor:\n                                            (tags[t] &&\n                                                tags[t].backgroundColor) ||\n                                            '#38bcfb',\n                                        color:\n                                            (tags[t] && tags[t].color) ||\n                                            'white'\n                                    }}\n                                >\n                                    {t.trim()}\n                                </span>\n                            ))}\n                    </Row>\n                </Column>\n            </Row>\n        </Column>\n    );\n});\n\nexport default ExpenseItem;\n","import React from 'react';\nimport { StyleSheet, css } from 'aphrodite';\nimport { Column, Row } from 'simple-flexbox';\nimport { numberFormat } from '../../logic/utilities';\n\nconst styles = StyleSheet.create({\n    border: {\n        borderColor: '#17183B',\n        borderRadius: 5,\n        borderStyle: 'solid',\n        borderWidth: '1px',\n        marginTop: 10,\n        padding: '8px 10px'\n    },\n    statistics: {\n        textAlign: 'left',\n        '@media (max-width: 1080px)': {\n            flexGrow: 1,\n            minWidth: 180\n        }\n    },\n    categoryStatistics: {\n        marginTop: 10,\n        ':first-child': {\n            marginTop: 0\n        },\n        '@media (max-width: 1080px)': {\n            marginBottom: 5,\n            marginTop: 5,\n            minWidth: 150\n        }\n    }\n});\n\nfunction StatisticsByCategoryWidget({ categories, showBorders, onClick }) {\n    return (\n        <Column\n            className={css(styles.statistics, showBorders && styles.border)}\n            onClick={onClick}\n        >\n            <Row horizontal=\"spaced\" wrap>\n                {Object.keys(categories).map(category => {\n                    const statistics = categories[category];\n                    return (\n                        <Column\n                            key={`statistics-category-${category}`}\n                            className={css(styles.categoryStatistics)}\n                        >\n                            <span style={{ fontWeight: 600 }}>{category}</span>\n                            <span>\n                                Average: $\n                                {numberFormat(\n                                    Math.round(statistics.average || 0),\n                                    0\n                                )}{' '}\n                                / day\n                            </span>\n                            <span>\n                                Total: ${numberFormat(statistics.total, 0)}\n                            </span>\n                        </Column>\n                    );\n                })}\n            </Row>\n        </Column>\n    );\n}\n\nStatisticsByCategoryWidget.whyDidYouRender = false;\n\nexport default StatisticsByCategoryWidget;\n","import React, { useState } from 'react';\nimport { StyleSheet, css } from 'aphrodite';\nimport { Column } from 'simple-flexbox';\nimport { getDaysInPeriod, numberFormat } from '../../logic/utilities';\nimport StatisticsByCategoryWidget from './StatisticsByCategoryWidget';\nimport CollapsibleContent from 'react-collapsible-content';\n\nconst styles = StyleSheet.create({\n    statistics: {\n        borderRadius: 5,\n        borderStyle: 'solid',\n        borderWidth: '1px',\n        height: 'auto',\n        padding: '8px 10px',\n        marginTop: 10,\n        overflow: 'hidden',\n        textAlign: 'center',\n        ':first-child': {\n            marginTop: 0\n        },\n        '@media (max-width: 1080px)': {\n            flexGrow: 1,\n            marginTop: 10,\n            minWidth: 180\n        }\n    },\n    toggleButton: {\n        cursor: 'pointer',\n        fontSize: 24,\n        fontWeight: 600,\n        position: 'absolute',\n        transitionProperty: 'opacity',\n        transitionTimingFunction: 'ease-in-out'\n    }\n});\n\nconst borderColors = [\n    '#731DD8',\n    '#48A9A6',\n    '#D4B483',\n    '#C1666B',\n    '#605B56',\n    '#ACC18A',\n    '#DAFEB7',\n    '#C96480',\n    '#B47978',\n    '#95BF8F'\n];\n\nfunction StatisticsWidget({ index, statistics }) {\n    const [expanded, setExpanded] = useState(false);\n\n    return (\n        <Column\n            horizontal=\"start\"\n            key={`statistics-${statistics.periodo}`}\n            className={css(styles.statistics)}\n            style={{\n                borderColor: borderColors[index % borderColors.length]\n            }}\n        >\n            <span style={{ fontWeight: 600 }}>{statistics.periodo}</span>\n            <span>\n                Average: ${numberFormat(Math.round(statistics.average || 0), 0)}{' '}\n                / day\n            </span>\n            <span>Total: ${numberFormat(statistics.total, 0)}</span>\n            <span>Days: {statistics.days}</span>\n            <span>\n                Forecast: $\n                {numberFormat(\n                    Math.round(\n                        getDaysInPeriod(statistics.periodo) *\n                            (statistics.average || 0)\n                    ),\n                    0\n                )}\n            </span>\n\n            {statistics.categories && (\n                <React.Fragment>\n                    <div style={{ position: 'relative', width: '100%' }}>\n                        <span\n                            className={css(styles.toggleButton)}\n                            onClick={() => setExpanded(prevValue => !prevValue)}\n                            style={{\n                                top: -95,\n                                right: 0,\n                                opacity: expanded ? 0 : 1\n                            }}\n                        >\n                            +\n                        </span>\n                        <span\n                            className={css(styles.toggleButton)}\n                            onClick={() => setExpanded(prevValue => !prevValue)}\n                            style={{\n                                top: -95,\n                                right: 0,\n                                opacity: expanded ? 1 : 0\n                            }}\n                        >\n                            -\n                        </span>\n                    </div>\n                    <CollapsibleContent expanded={expanded}>\n                        <div style={{ marginTop: 10 }}>\n                            <StatisticsByCategoryWidget\n                                categories={statistics.categories}\n                            />\n                        </div>\n                    </CollapsibleContent>\n                </React.Fragment>\n            )}\n        </Column>\n    );\n}\n\nStatisticsWidget.whyDidYouRender = false;\n\nexport default StatisticsWidget;\n","import React, { useState } from 'react';\nimport { StyleSheet, css } from 'aphrodite';\nimport { Column, Row } from 'simple-flexbox';\nimport { useAsync } from 'react-async';\nimport useReactRouter from 'use-react-router';\nimport ReactTags from 'react-tag-autocomplete';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport firebaseClient from '../../logic/firebaseClient';\nimport { LoadingComponent } from '../../commons/InitializingComponent';\nimport '../../commons/styles/tags.css';\n\nconst styles = StyleSheet.create({\n    button: {\n        borderRadius: 5,\n        color: 'white',\n        cursor: 'pointer',\n        fontWeight: 600,\n        padding: '8px 10px',\n        width: 90,\n        textAlign: 'center'\n    },\n    closeButton: {\n        border: '1px dashed',\n        cursor: 'pointer',\n        lineHeight: '20px',\n        padding: '5px 8px',\n        right: 5,\n        top: 5,\n        ':hover': {\n            backgroundColor: 'rgba(0,0,0,.05)'\n        }\n    },\n    container: {\n        backgroundColor: 'white',\n        maxWidth: 548,\n        minWidth: '30vw',\n        width: '100%',\n        '@media (max-width: 1068px)': {\n            minWidth: 600\n        },\n        '@media (max-width: 768px)': {\n            minWidth: '80vw'\n        }\n    },\n    inputField: {\n        height: 40,\n        fontSize: 16,\n        padding: 0,\n        margin: 0,\n        marginTop: 4,\n        width: 'calc(100% - 4px)'\n    },\n    title: {\n        margin: 0\n    },\n    subTitle: {\n        margin: '10px 0px 2px 0px',\n        fontSize: 16\n    },\n    reactTagsContainer: {\n        ':nth-child(n) > div': {\n            border: '1px solid rgb(118, 118, 118)',\n            width: 'calc(100% - 4px)'\n        }\n    },\n    inputGroupRow: {\n        width: '50%',\n        ':last-child': {\n            marginLeft: 8\n        },\n        '@media (max-width: 768px)': {\n            marginLeft: 0,\n            width: '100%'\n        }\n    }\n});\n\nfunction FiltersComponent({ filters = {}, onApply, onClose }) {\n    const { match } = useReactRouter();\n    const { data: metadata, isPending: loading } = useAsync({\n        promiseFn: firebaseClient.getMetadata,\n        sheetId: match.params.sheetId\n    });\n    const [currentFilters, setCurrentFilters] = useState({\n        amountFrom: filters.amountFrom || '',\n        amountTo: filters.amountTo || '',\n        categories:\n            (filters.categories &&\n                filters.categories.map(v => ({ id: v, name: v }))) ||\n            [],\n        cities:\n            (filters.cities && filters.cities.map(v => ({ id: v, name: v }))) ||\n            [],\n        currencies:\n            (filters.currencies &&\n                filters.currencies.map(v => ({ id: v, name: v }))) ||\n            [],\n        methods:\n            (filters.methods &&\n                filters.methods.map(v => ({ id: v, name: v }))) ||\n            [],\n        tags:\n            (filters.tags && filters.tags.map(v => ({ id: v, name: v }))) || [],\n        dateFrom: filters.dateFrom && new Date(filters.dateFrom),\n        dateTo: filters.dateTo && new Date(filters.dateTo)\n    });\n\n    const categories = metadata\n        ? Object.keys(metadata.categories).map(v => ({ id: v, name: v }))\n        : [];\n\n    const cities = metadata\n        ? Object.keys(metadata.cities).map(v => ({ id: v, name: v }))\n        : [];\n\n    const currencies = metadata\n        ? Object.keys(metadata.currencies).map(v => ({ id: v, name: v }))\n        : [];\n\n    const methods = metadata\n        ? Object.keys(metadata.methods).map(v => ({ id: v, name: v }))\n        : [];\n\n    const tags = metadata\n        ? Object.keys(metadata.tags).map(v => ({ id: v, name: v }))\n        : [];\n\n    const onApplyFilters = () => {\n        const newFilters = {\n            ...currentFilters,\n            categories: currentFilters.categories.map(c => c.name),\n            cities: currentFilters.cities.map(c => c.name),\n            currencies: currentFilters.currencies.map(c => c.name),\n            methods: currentFilters.methods.map(c => c.name),\n            tags: currentFilters.tags.map(c => c.name),\n            dateFrom:\n                currentFilters.dateFrom && currentFilters.dateFrom.getTime(),\n            dateTo: currentFilters.dateTo && currentFilters.dateTo.getTime()\n        };\n        const hasFilters = Object.keys(newFilters).some(\n            f => !!newFilters[f] && newFilters[f].toString().length > 0\n        );\n        onApply(hasFilters ? newFilters : {});\n    };\n\n    const onValueChange = (type, value) =>\n        setCurrentFilters(prev => {\n            const newFilters = { ...prev };\n            newFilters[type] = value;\n            return newFilters;\n        });\n\n    const onTagAdd = (type, tag) =>\n        setCurrentFilters(prev => {\n            const array = [...prev[type]];\n            if (array.find(i => i.id === tag.id)) {\n                return prev;\n            }\n            array.push(tag);\n            const newFilters = { ...prev };\n            newFilters[type] = array;\n            return newFilters;\n        });\n\n    const onTagDelete = (type, index) =>\n        setCurrentFilters(prev => {\n            const array = [...prev[type]];\n            array.splice(index, 1);\n            const newFilters = { ...prev };\n            newFilters[type] = array;\n            return newFilters;\n        });\n\n    const renderTagFilter = ({ title, type, suggestions, noStyles }) => (\n        <Column flexGrow={1} className={!noStyles && css(styles.inputGroupRow)}>\n            <h3 className={css(styles.subTitle)}>{title}:</h3>\n            <Column flexGrow={1} className={css(styles.reactTagsContainer)}>\n                <ReactTags\n                    tags={currentFilters[type]}\n                    suggestions={suggestions}\n                    onDelete={index => onTagDelete(type, index)}\n                    onAddition={tag => onTagAdd(type, tag)}\n                    minQueryLength={0}\n                    maxSuggestionsLength={10}\n                    placeholder={`Select ${title}`}\n                />\n            </Column>\n        </Column>\n    );\n\n    return (\n        <LoadingComponent loading={loading} fullScreen>\n            <Column className={css(styles.container)}>\n                <Row horizontal=\"spaced\">\n                    <h1 className={css(styles.title)}>Filters</h1>\n                    <div>\n                        <span\n                            className={css(styles.closeButton)}\n                            onClick={onClose}\n                        >\n                            &#10005;\n                        </span>\n                    </div>\n                </Row>\n\n                <Row>\n                    {renderTagFilter({\n                        title: 'Categories',\n                        type: 'categories',\n                        suggestions: categories,\n                        noStyles: true\n                    })}\n                </Row>\n\n                <Row>\n                    {renderTagFilter({\n                        title: 'Cities',\n                        type: 'cities',\n                        suggestions: cities\n                    })}\n                    {renderTagFilter({\n                        title: 'Currencies',\n                        type: 'currencies',\n                        suggestions: currencies\n                    })}\n                </Row>\n                <Row>\n                    {renderTagFilter({\n                        title: 'Methods',\n                        type: 'methods',\n                        suggestions: methods\n                    })}\n\n                    {renderTagFilter({\n                        title: 'Tags',\n                        type: 'tags',\n                        suggestions: tags\n                    })}\n                </Row>\n\n                <Column>\n                    <Row horizontal=\"spaced\">\n                        <Column\n                            flexGrow={1}\n                            className={css(styles.inputGroupRow)}\n                        >\n                            <h3 className={css(styles.subTitle)}>Date From:</h3>\n                            <DatePicker\n                                startOpen={false}\n                                name=\"date-from\"\n                                selected={\n                                    currentFilters.dateFrom\n                                        ? new Date(currentFilters.dateFrom)\n                                        : null\n                                }\n                                onChange={date =>\n                                    onValueChange('dateFrom', date)\n                                }\n                                dateFormat=\"dd/MM/yyyy\"\n                                customInput={\n                                    <input\n                                        type=\"text\"\n                                        className={css(styles.inputField)}\n                                        value={\n                                            currentFilters.dateFrom\n                                                ? new Date(\n                                                      currentFilters.dateFrom\n                                                  )\n                                                : null\n                                        }\n                                    />\n                                }\n                            />\n                        </Column>\n                        <Column\n                            flexGrow={1}\n                            className={css(styles.inputGroupRow)}\n                        >\n                            <h3 className={css(styles.subTitle)}>Date To:</h3>\n                            <DatePicker\n                                startOpen={false}\n                                name=\"date-to\"\n                                selected={\n                                    currentFilters.dateTo\n                                        ? new Date(currentFilters.dateTo)\n                                        : null\n                                }\n                                onChange={date => onValueChange('dateTo', date)}\n                                dateFormat=\"dd/MM/yyyy\"\n                                customInput={\n                                    <input\n                                        type=\"text\"\n                                        className={css(styles.inputField)}\n                                        value={\n                                            currentFilters.dateTo\n                                                ? new Date(\n                                                      currentFilters.dateTo\n                                                  )\n                                                : null\n                                        }\n                                    />\n                                }\n                            />\n                        </Column>\n                    </Row>\n                </Column>\n\n                <Column>\n                    <Row horizontal=\"spaced\">\n                        <Column\n                            flexGrow={1}\n                            className={css(styles.inputGroupRow)}\n                        >\n                            <h3 className={css(styles.subTitle)}>\n                                Amount From:\n                            </h3>\n                            <input\n                                type=\"text\"\n                                className={css(styles.inputField)}\n                                value={currentFilters.amountFrom}\n                                onChange={e =>\n                                    onValueChange('amountFrom', e.target.value)\n                                }\n                            />\n                        </Column>\n                        <Column\n                            flexGrow={1}\n                            className={css(styles.inputGroupRow)}\n                        >\n                            <h3 className={css(styles.subTitle)}>Amount To:</h3>\n                            <input\n                                type=\"text\"\n                                className={css(styles.inputField)}\n                                value={currentFilters.amountTo}\n                                onChange={e =>\n                                    onValueChange('amountTo', e.target.value)\n                                }\n                            />\n                        </Column>\n                    </Row>\n                </Column>\n\n                <Row flexGrow={1} style={{ marginTop: 20 }} horizontal=\"spaced\">\n                    <span\n                        className={css(styles.button)}\n                        style={{ backgroundColor: 'red' }}\n                        onClick={onClose}\n                    >\n                        Cancel\n                    </span>\n\n                    <span\n                        className={css(styles.button)}\n                        style={{ backgroundColor: 'green' }}\n                        onClick={onApplyFilters}\n                    >\n                        Apply\n                    </span>\n                </Row>\n            </Column>\n        </LoadingComponent>\n    );\n}\n\nexport default FiltersComponent;\n","import React, { useEffect, useState } from 'react';\nimport { StyleSheet, css } from 'aphrodite';\nimport useReactRouter from 'use-react-router';\nimport ReactPaginate from 'react-paginate';\nimport { Column, Row } from 'simple-flexbox';\nimport FlipMove from 'react-flip-move';\nimport Modal from 'react-modal';\nimport { useSheetChangesSubscription } from '../../logic/useSheetChangesSubscription';\nimport ExpenseItem from './ExpenseItem';\nimport { applyFilters, numberFormat } from '../../logic/utilities';\nimport { LoadingComponent } from '../../commons/InitializingComponent';\nimport StatisticsWidget from './StatisticsWidget';\nimport StatisticsByCategoryWidget from './StatisticsByCategoryWidget';\nimport FiltersComponent from './FiltersComponent';\nimport '../../commons/styles/pagination.css';\n\nconst styles = StyleSheet.create({\n    buttonsContainer: {\n        marginTop: 10,\n        marginBottom: 10\n    },\n    addExpenseButton: {\n        backgroundColor: 'green',\n        borderRadius: 5,\n        color: 'white',\n        cursor: 'pointer',\n        fontWeight: 600,\n        padding: '8px 10px',\n        textAlign: 'center',\n        ':hover': {\n            backgroundColor: '#198c19'\n        }\n    },\n    link: {\n        color: '#2c689c',\n        cursor: 'pointer',\n        fontSize: 14,\n        textDecoration: 'underline'\n    },\n    statisticsGlobal: {\n        border: '1px solid #fa7159',\n        borderRadius: 5,\n        fontWeight: 600,\n        padding: '8px 10px',\n        textAlign: 'center'\n    },\n    sideColumnsLeft: {\n        flexGrow: 1,\n        width: '100%',\n        maxWidth: 240,\n        minWidth: 80,\n        '@media (max-width: 1080px)': {\n            maxWidth: 880\n        }\n    },\n    sideColumnsRight: {\n        flexGrow: 1,\n        width: '100%',\n        maxWidth: 240,\n        minWidth: 220,\n        paddingTop: 56,\n        paddingLeft: 10,\n        '@media (max-width: 1080px)': {\n            padding: 0,\n            flexDirection: 'row',\n            flexWrap: 'wrap',\n            justifyContent: 'space-between',\n            maxWidth: 880,\n            marginTop: 20\n        }\n    },\n    showFiltersButton: {\n        backgroundColor: '#2c689c',\n        borderRadius: 5,\n        color: 'white',\n        cursor: 'pointer',\n        fontWeight: 600,\n        padding: '8px 10px',\n        textAlign: 'center',\n        margin: '0px 8px',\n        ':hover': {\n            backgroundColor: '#2c689c'\n        },\n        '@media (max-width: 768px)': {\n            marginTop: 10,\n            marginLeft: 0\n        }\n    }\n});\n\nfunction ExpensesComponent() {\n    const { history, match } = useReactRouter();\n    const { expenses, loading, statistics, tags } = useSheetChangesSubscription(\n        match.params.sheetId\n    );\n    const [expensesFiltered, setExpensesFiltered] = useState([]);\n    const [expensesPaginated, setExpensesPaginated] = useState([]);\n    const [showFilters, setShowFilters] = useState(false);\n    const [currentFilters, setCurrentFilters] = useState({});\n\n    useEffect(() => {\n        const filtered = applyFilters([...expenses], currentFilters);\n        setExpensesFiltered(filtered);\n        setExpensesPaginated([...filtered].splice(0, 10));\n    }, [expenses, currentFilters]);\n\n    const onAddSheetClick = () =>\n        history.push(`/sheet/${match.params.sheetId}/new`);\n\n    const onExpenseClick = expenseId =>\n        history.push(`/sheet/${match.params.sheetId}/edit/${expenseId}`);\n\n    useEffect(() => window.scrollTo(0, 0), []);\n\n    const handlePageClick = ({ selected }) => {\n        setExpensesPaginated([...expensesFiltered].splice(selected * 10, 10));\n    };\n\n    const isMobile = () => window.innerWidth <= 1080;\n\n    const periodos = [];\n    let totalDays = 0;\n    if (statistics) {\n        Object.keys(statistics).forEach(p => {\n            if (typeof statistics[p] === 'object' && p !== 'categories') {\n                periodos.push({\n                    ...statistics[p],\n                    periodo: p\n                });\n            }\n        });\n\n        var diffTime = Math.abs(statistics.lastUpdate - statistics.minDate);\n        totalDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1;\n    }\n\n    const hasFilters = Object.keys(currentFilters).length > 0;\n    const pageCount = expensesFiltered.length / 10;\n\n    return (\n        <LoadingComponent loading={loading} fullScreen>\n            <Column horizontal=\"center\">\n                <Row\n                    style={{ width: '100%' }}\n                    horizontal=\"spaced\"\n                    breakpoints={{\n                        1080: {\n                            flexDirection: 'column',\n                            alignItems: 'center'\n                        }\n                    }}\n                >\n                    <span className={css(styles.sideColumnsLeft)}></span>\n\n                    <Column\n                        style={{ maxWidth: 880, width: '100%' }}\n                        breakpoints={{\n                            1080: { padding: '0px 10px', maxWidth: 880 }\n                        }}\n                    >\n                        <Row\n                            className={css(styles.buttonsContainer)}\n                            vertical=\"center\"\n                            horizontal=\"spaced\"\n                            breakpoints={{\n                                768: {\n                                    flexDirection: 'column',\n                                    alignItems: 'flex-start'\n                                }\n                            }}\n                        >\n                            <span\n                                className={css(styles.addExpenseButton)}\n                                onClick={onAddSheetClick}\n                            >\n                                Add Expense\n                            </span>\n                            <Row\n                                breakpoints={{\n                                    768: {\n                                        flexDirection: 'column',\n                                        alignItems: 'flex-start'\n                                    }\n                                }}\n                            >\n                                <Row\n                                    vertical=\"end\"\n                                    breakpoints={{\n                                        768: {\n                                            flexDirection: 'row-reverse'\n                                        }\n                                    }}\n                                >\n                                    {hasFilters && (\n                                        <span\n                                            className={css(styles.link)}\n                                            onClick={() =>\n                                                setCurrentFilters({})\n                                            }\n                                        >\n                                            clear filters\n                                        </span>\n                                    )}\n                                    <span\n                                        className={css(\n                                            styles.showFiltersButton\n                                        )}\n                                        onClick={() => setShowFilters(true)}\n                                    >\n                                        Filters\n                                    </span>\n                                </Row>\n                                <Row\n                                    className={css(styles.statisticsGlobal)}\n                                    breakpoints={{ 768: { marginTop: 10 } }}\n                                >\n                                    Overall Average: $\n                                    {numberFormat(\n                                        Math.round(statistics.average || 0),\n                                        0\n                                    )}{' '}\n                                    / day. {totalDays} days.\n                                </Row>\n                            </Row>\n                        </Row>\n\n                        <FlipMove>\n                            {(expensesPaginated || []).map(e => (\n                                <ExpenseItem\n                                    key={e.id}\n                                    expense={e}\n                                    onEditClick={onExpenseClick}\n                                    tags={tags || []}\n                                />\n                            ))}\n                        </FlipMove>\n\n                        {pageCount > 0 && (\n                            <ReactPaginate\n                                previousLabel={'<'}\n                                nextLabel={'>'}\n                                breakLabel={'...'}\n                                breakClassName={'break-me'}\n                                pageCount={pageCount}\n                                marginPagesDisplayed={2}\n                                pageRangeDisplayed={isMobile() ? 2 : 5}\n                                onPageChange={handlePageClick}\n                                containerClassName={'pagination'}\n                                subContainerClassName={'pages pagination'}\n                                activeClassName={'active'}\n                            />\n                        )}\n                    </Column>\n                    <Column className={css(styles.sideColumnsRight)}>\n                        {periodos\n                            .slice(0)\n                            .reverse()\n                            .map((p, index) => {\n                                return (\n                                    <StatisticsWidget\n                                        key={`statistics-${index}`}\n                                        statistics={p}\n                                        index={index}\n                                    />\n                                );\n                            })}\n                        {statistics.categories && (\n                            <StatisticsByCategoryWidget\n                                categories={statistics.categories}\n                                showBorders\n                            />\n                        )}\n                    </Column>\n                </Row>\n            </Column>\n            <Modal\n                isOpen={showFilters}\n                onRequestClose={() => setShowFilters(false)}\n                style={{\n                    content: {\n                        border: '1px solid #2c689c',\n                        borderRadius: 4,\n                        top: '50%',\n                        left: '50%',\n                        right: 'auto',\n                        bottom: 'auto',\n                        marginRight: '-50%',\n                        transform: 'translate(-50%, -50%)',\n                        padding: 20,\n                        zIndex: 1102\n                    },\n                    overlay: {\n                        backgroundColor: 'rgba(10, 10, 10, .3)',\n                        zIndex: 1101\n                    }\n                }}\n                ariaHideApp={false}\n            >\n                <FiltersComponent\n                    filters={currentFilters}\n                    onApply={filters => {\n                        setCurrentFilters(filters);\n                        setShowFilters(false);\n                    }}\n                    onClose={() => setShowFilters(false)}\n                />\n            </Modal>\n        </LoadingComponent>\n    );\n}\n\nExpensesComponent.whyDidYouRender = false;\n\nexport default ExpensesComponent;\n","import { useState, useEffect } from 'react';\nimport firebaseClient from './firebaseClient';\nimport { sortExpensesByDate } from './utilities';\n\nexport function useSheetChangesSubscription(sheetId) {\n    const [expenses, setExpenses] = useState([]);\n    const [statistics, setStatistics] = useState({});\n    const [tags, setTags] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [sheetName, setSheetName] = useState('');\n\n    useEffect(() => {\n        let expensesRef;\n        let metadataRef;\n\n        let isInitialFetch = true;\n        let _rawData = [];\n        let _metadata = {};\n\n        const getSheetFetch = async sheetId => {\n            const getSheetResponse = await firebaseClient.getSheet({ sheetId });\n            setExpenses(getSheetResponse.expenses);\n            setSheetName(getSheetResponse.sheetName);\n            setStatistics(getSheetResponse.metadata.statistics);\n            setTags(getSheetResponse.metadata.tags);\n            _rawData = getSheetResponse.expenses;\n            _metadata = getSheetResponse.metadata;\n            isInitialFetch = false;\n            setLoading(false);\n        };\n        if (sheetId) {\n            expensesRef = firebaseClient.getExpensesRef({ sheetId });\n            metadataRef = firebaseClient.getMetadataRef({ sheetId });\n            expensesRef.on('child_added', childSnapshot => {\n                if (isInitialFetch) {\n                    return;\n                }\n                const array = [..._rawData, childSnapshot.val()];\n                _rawData = [...array];\n                const formatted = sortExpensesByDate(array);\n                setExpenses(formatted);\n            });\n\n            expensesRef.on('child_changed', childSnapshot => {\n                if (isInitialFetch) {\n                    return;\n                }\n\n                const dataIndex = _rawData.findIndex(\n                    d => d.id === childSnapshot.key\n                );\n                const newRawData = [..._rawData];\n                newRawData[dataIndex] = childSnapshot.val();\n                _rawData = [...newRawData];\n                const formatted = sortExpensesByDate(newRawData);\n                setExpenses(formatted);\n            });\n\n            expensesRef.on('child_removed', childSnapshot => {\n                if (isInitialFetch) {\n                    return;\n                }\n                const dataIndex = _rawData.findIndex(\n                    d => d.id === childSnapshot.key\n                );\n                const newRawData = [..._rawData];\n                newRawData.splice(dataIndex, 1);\n                const formatted = sortExpensesByDate(newRawData);\n                setExpenses(formatted);\n            });\n\n            metadataRef.on('child_added', childSnapshot => {\n                if (isInitialFetch) {\n                    return;\n                }\n                _metadata[childSnapshot.key] = childSnapshot.val();\n                setStatistics(_metadata.statistics);\n                setTags(_metadata.tags);\n            });\n\n            metadataRef.on('child_changed', childSnapshot => {\n                if (isInitialFetch) {\n                    return;\n                }\n                _metadata[childSnapshot.key] = childSnapshot.val();\n                setStatistics(_metadata.statistics);\n                setTags(_metadata.tags);\n            });\n\n            metadataRef.on('child_removed', childSnapshot => {\n                if (isInitialFetch) {\n                    return;\n                }\n                delete _metadata[childSnapshot.key];\n                setStatistics(_metadata.statistics);\n                setTags(_metadata.tags);\n            });\n\n            getSheetFetch(sheetId);\n        }\n\n        return () => {\n            if (expensesRef) {\n                expensesRef.off();\n            }\n            if (metadataRef) {\n                metadataRef.off();\n            }\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [sheetId]);\n\n    return {\n        expenses,\n        loading,\n        sheetName,\n        statistics,\n        tags\n    };\n}\n","import React from 'react';\n\nexport default ({ color, viewBox, ...props }) => (\n    <svg\n        viewBox={viewBox || '0 0 129 129'}\n        fill=\"none\"\n        {...props}\n        xmlns=\"http://www.w3.org/2000/svg\"\n    >\n        <g>\n            <path\n                fill={color || '#1D1D1D'}\n                d=\"m118.5,76.7c-2.3,0-4.1,1.8-4.1,4.1v33.5h-99.8v-99.7h33.5c2.3,5.32907e-15 4.1-1.8 4.1-4.1s-1.8-4.1-4.1-4.1h-37.6c-2.3,0-4.1,1.8-4.1,4.1v107.9c0,2.3 1.8,4.1 4.1,4.1h107.9c2.3,0 4.1-1.8 4.1-4.1v-37.6c0.1-2.2-1.8-4.1-4-4.1z\"\n            />\n            <path\n                fill={color || '#1D1D1D'}\n                d=\"m122.3,9c-0.5-1-1.3-1.8-2.3-2.3 0,0 0,0-0.1,0-0.5-0.2-1-0.3-1.5-0.3h-54c-2.3,0-4.1,1.8-4.1,4.1s1.8,4.1 4.1,4.1h44.1l-47,47c-1.6,1.6-1.6,4.2 0,5.8 0.8,0.8 1.8,1.2 2.9,1.2 1,0 2.1-0.4 2.9-1.2l47-47v44.1c0,2.3 1.8,4.1 4.1,4.1 2.3,0 4.1-1.8 4.1-4.1v-54c0.1-0.5-0.1-1-0.2-1.5z\"\n            />\n        </g>\n    </svg>\n);\n","import React from 'react';\n\nexport default ({ color, ...props }) => (\n    <svg\n        viewBox=\"0 0 32 32\"\n        fill=\"none\"\n        {...props}\n        xmlns=\"http://www.w3.org/2000/svg\"\n    >\n        <path\n            clipRule=\"evenodd\"\n            d=\"M16,0C7.163,0,0,7.163,0,16c0,8.836,7.163,16,16,16   c8.836,0,16-7.163,16-16C32,7.163,24.836,0,16,0z M16,30C8.268,30,2,23.732,2,16C2,8.268,8.268,2,16,2s14,6.268,14,14   C30,23.732,23.732,30,16,30z\"\n            fill={color || '#121313'}\n            fillRule=\"evenodd\"\n        />\n        <path\n            clipRule=\"evenodd\"\n            d=\"M22.729,21.271l-5.268-5.269l5.238-5.195   c0.395-0.391,0.395-1.024,0-1.414c-0.394-0.39-1.034-0.39-1.428,0l-5.231,5.188l-5.309-5.31c-0.394-0.396-1.034-0.396-1.428,0   c-0.394,0.395-0.394,1.037,0,1.432l5.301,5.302l-5.331,5.287c-0.394,0.391-0.394,1.024,0,1.414c0.394,0.391,1.034,0.391,1.429,0   l5.324-5.28l5.276,5.276c0.394,0.396,1.034,0.396,1.428,0C23.123,22.308,23.123,21.667,22.729,21.271z\"\n            fill={color || '#121313'}\n            fillRule=\"evenodd\"\n        />\n        Z\n    </svg>\n);\n","import React from 'react';\n\nexport default ({ color, ...props }) => (\n    <svg\n        viewBox=\"0 0 24 24\"\n        fill=\"none\"\n        {...props}\n        xmlns=\"http://www.w3.org/2000/svg\"\n    >\n        <g\n            id=\"Icons\"\n            stroke=\"none\"\n            strokeWidth=\"1\"\n            fill=\"none\"\n            fillRule=\"evenodd\"\n        >\n            <polygon id=\"Path\" points=\"0 0 24 0 24 24 0 24\"></polygon>\n            <path\n                d=\"M11.95,24 C12.18,24 12.39,23.98 12.61,23.97 L8.8,20.15 L7.47,21.49 C4.2,19.93 1.86,16.76 1.5,13 L0,13 C0.51,19.16 5.66,24 11.95,24 Z M12.05,0 C11.82,0 11.61,0.02 11.39,0.04 L15.2,3.85 L16.53,2.52 C19.8,4.07 22.14,7.24 22.5,11 L24,11 C23.49,4.84 18.34,0 12.05,0 Z M16,6 L10,6 L10,8 L16,8 L16,14 L18,14 L18,8 C18,6.89 17.1,6 16,6 Z M18,18 L20,18 L20,16 L8,16 L8,4 L6,4 L6,6 L4,6 L4,8 L6,8 L6,16 C6,17.1 6.89,18 8,18 L16,18 L16,20 L18,20 L18,18 Z\"\n                id=\"🔹-Primary-Color\"\n                fill={color || '#1D1D1D'}\n            ></path>\n        </g>\n    </svg>\n);\n","import React, { useCallback, useState, useEffect } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { Column } from 'simple-flexbox';\nimport { StyleSheet, css } from 'aphrodite';\nimport Gallery from 'react-photo-gallery';\nimport Carousel, { Modal, ModalGateway } from 'react-images';\nimport IconExport from '../assets/icon-export';\nimport IconRemove from '../assets/icon-remove';\nimport IconRotate from '../assets/icon-rotate';\nimport PdfLogo from '../assets/pdf_logo.png';\nimport { LoadingComponent } from './InitializingComponent';\nimport { isFileAnImage } from '../logic/utilities';\n\nconst maxFilesCount = 10;\n\nconst styles = StyleSheet.create({\n    photoContainer: {\n        cursor: 'pointer',\n        margin: 2,\n        maxHeight: 256,\n        maxWidth: 256,\n        position: 'relative'\n    },\n    imgButton: {\n        alignItems: 'center',\n        borderRadius: 50,\n        cursor: 'pointer',\n        display: 'flex',\n        opacity: 0.8,\n        padding: 3,\n        position: 'absolute',\n        zIndex: 1,\n        ':hover': {\n            backgroundColor: 'white',\n            borderRadius: '4px',\n            opacity: 0.5\n        }\n    },\n    fileName: {\n        backgroundColor: '#CB0606',\n        color: 'white',\n        fontSize: 14,\n        fontWeight: 'bold',\n        left: '18%',\n        maxWidth: '64%',\n        overflowWrap: 'break-word',\n        position: 'absolute',\n        textAlign: 'center',\n        top: 80,\n        width: '64%',\n        zIndex: 10\n    },\n    uploaderContainer: {\n        border: '2px dashed #9DA0A3',\n        background: 'none',\n        cursor: 'pointer',\n        marginTop: 4,\n        marginBottom: 8,\n        height: 100\n    }\n});\n\nfunction DragNDropFileComponent({ files = [], onChange, hasFiles }) {\n    const [loadingImages, setLoadingImages] = useState(hasFiles);\n\n    const [currentImage, setCurrentImage] = useState(0);\n    const [viewerIsOpen, setViewerIsOpen] = useState(false);\n\n    const {\n        getRootProps,\n        getInputProps,\n        rootRef,\n        inputRef,\n        acceptedFiles\n    } = useDropzone();\n\n    const openLightbox = useCallback((_, { index }) => {\n        setCurrentImage(index);\n        setViewerIsOpen(true);\n    }, []);\n\n    const closeLightbox = () => {\n        setCurrentImage(0);\n        setViewerIsOpen(false);\n    };\n\n    useEffect(() => {\n        let newFiles = [];\n        for (let i = 0; i < acceptedFiles.length; i++) {\n            const fileName = acceptedFiles[i].name;\n            if (files.findIndex(f => f.name === fileName) < 0) {\n                newFiles.push(acceptedFiles[i]);\n            }\n        }\n        newFiles = [...files, ...newFiles];\n        if (newFiles.length > maxFilesCount) {\n            newFiles = newFiles.slice(-maxFilesCount);\n        }\n        onChange && onChange(newFiles);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [acceptedFiles]);\n\n    const photos = files.map(file => {\n        let thumb;\n        let isImage = true;\n        const src = file.publicUrl || URL.createObjectURL(file);\n        if (!isFileAnImage(file)) {\n            thumb = PdfLogo;\n            isImage = false;\n        } else {\n            thumb = src;\n            if (file.publicUrl) {\n                thumb = file.thumb;\n            }\n        }\n        return {\n            src,\n            thumb,\n            width: 1,\n            height: 1,\n            rotate: file.rotate || 0,\n            name: file.name,\n            isImage\n        };\n    });\n\n    const removeFile = (src, name) => {\n        const filteredFiles = files.filter(\n            f =>\n                (f.publicUrl && f.publicUrl !== src) ||\n                (!f.publicUrl && f.name !== name)\n        );\n\n        onChange && onChange(filteredFiles);\n    };\n\n    const rotateImage = src => {\n        const fileIndex = files.findIndex(\n            f => f.publicUrl && f.publicUrl === src\n        );\n        if (fileIndex < 0) {\n            return null;\n        }\n        files[fileIndex].rotate = (files[fileIndex].rotate || 0) - 90;\n        onChange && onChange(files);\n    };\n\n    const imageRenderer = ({\n        index,\n        photo: { isImage, ...photo },\n        onClick\n    }) => {\n        return (\n            <div\n                key={`image-${index}`}\n                className={css(styles.photoContainer)}\n                style={{\n                    height: photo.height,\n                    width: photo.width\n                }}\n            >\n                <IconRemove\n                    width={40}\n                    className={css(styles.imgButton)}\n                    style={{ top: 5, right: 5 }}\n                    color=\"red\"\n                    onClick={() => removeFile(photo.src, photo.name)}\n                />\n                {isImage && (\n                    <IconRotate\n                        width={40}\n                        className={css(styles.imgButton)}\n                        style={{ top: 5, left: 5 }}\n                        color=\"red\"\n                        onClick={() => rotateImage(photo.src)}\n                    />\n                )}\n                <IconExport\n                    width={40}\n                    className={css(styles.imgButton)}\n                    style={{ bottom: 5, left: 5 }}\n                    color=\"red\"\n                    onClick={() => window.open(photo.src, '_blank')}\n                />\n                <img\n                    alt={photo.title}\n                    {...photo}\n                    src={photo.thumb}\n                    onError={e => (e.target.src = photo.src)}\n                    onClick={e =>\n                        isImage\n                            ? onClick(e, { index })\n                            : window.open(photo.src, '_blank')\n                    }\n                    onLoad={() => setLoadingImages(false)}\n                    style={{\n                        transform: `rotate(${photo.rotate || 0}deg)`,\n                        maxHeight: 256,\n                        maxWidth: 256\n                    }}\n                />\n                {photo.name && !isImage && (\n                    <span className={css(styles.fileName)}>\n                        {photo.name.split('.')[0]}\n                    </span>\n                )}\n            </div>\n        );\n    };\n\n    return (\n        <Column>\n            <Column>\n                <Column\n                    vertical=\"center\"\n                    horizontal=\"center\"\n                    {...getRootProps()}\n                    className={css(styles.uploaderContainer)}\n                    ref={rootRef}\n                >\n                    <input ref={inputRef} {...getInputProps()} />\n                    Drag 'n' drop some files here, or click to select files\n                </Column>\n            </Column>\n            <LoadingComponent loading={loadingImages}>\n                <Gallery\n                    photos={photos}\n                    onClick={openLightbox}\n                    renderImage={imageRenderer}\n                />\n            </LoadingComponent>\n            <ModalGateway>\n                {viewerIsOpen ? (\n                    <Modal\n                        onClose={closeLightbox}\n                        styles={{\n                            dialog: base => ({\n                                ...base,\n                                zIndex: 1230\n                            }),\n                            positioner: base => ({\n                                ...base,\n                                zIndex: 1220\n                            }),\n                            blanket: base => ({\n                                ...base,\n                                zIndex: 1210\n                            })\n                        }}\n                    >\n                        <Carousel\n                            isFullscreen={true}\n                            isModal={true}\n                            currentIndex={currentImage}\n                            views={photos.map(x => ({\n                                ...x,\n                                srcset: x.srcSet,\n                                caption: x.title\n                            }))}\n                        />\n                    </Modal>\n                ) : null}\n            </ModalGateway>\n        </Column>\n    );\n}\n\nexport default DragNDropFileComponent;\n","import React, { useCallback, useState } from 'react';\nimport Autosuggest from 'react-autosuggest';\n\nconst theme = {\n    container: {\n        position: 'relative'\n    },\n    input: {\n        height: 40,\n        fontSize: 16,\n        marginTop: 4,\n        width: '99%'\n    },\n    inputFocused: {\n        outline: 'none'\n    },\n    inputOpen: {\n        borderBottomLeftRadius: 0,\n        borderBottomRightRadius: 0\n    },\n    suggestionsContainer: {\n        display: 'none'\n    },\n    suggestionsContainerOpen: {\n        display: 'block',\n        position: 'absolute',\n        top: 45,\n        width: 300,\n        border: '1px solid #aaa',\n        backgroundColor: '#fff',\n        borderBottomLeftRadius: 4,\n        borderBottomRightRadius: 4,\n        zIndex: 2\n    },\n    suggestionsList: {\n        margin: 0,\n        padding: 0,\n        listStyleType: 'none'\n    },\n    suggestion: {\n        cursor: 'pointer'\n    },\n    suggestionHighlighted: {\n        backgroundColor: '#ddd'\n    }\n};\n\nfunction AutosuggestCustom({ onChange, placeholder, value, values }) {\n    const [suggestionsValues, setSuggestionsValues] = useState([]);\n    const [initializingValues, setInitializingValues] = useState(true);\n\n    const getSuggestionsValues = useCallback(\n        value => {\n            if (initializingValues) {\n                setInitializingValues(false);\n                return values;\n            }\n            const inputValue = value.trim().toLowerCase();\n            const inputLength = inputValue.length;\n\n            return inputLength === 0\n                ? values\n                : values.filter(\n                      lang =>\n                          lang.toLowerCase().slice(0, inputLength) ===\n                          inputValue\n                  );\n        },\n        [values, initializingValues]\n    );\n\n    return (\n        <Autosuggest\n            suggestions={suggestionsValues}\n            onSuggestionsFetchRequested={({ value }) =>\n                setSuggestionsValues(getSuggestionsValues(value))\n            }\n            onSuggestionsClearRequested={() => setSuggestionsValues([])}\n            getSuggestionValue={value => value}\n            renderSuggestion={suggestion => <div>{suggestion}</div>}\n            shouldRenderSuggestions={() => true}\n            theme={theme}\n            inputProps={{\n                placeholder,\n                value,\n                onChange\n            }}\n        />\n    );\n}\n\nexport default AutosuggestCustom;\n","import React, { useEffect, useMemo, useState } from 'react';\nimport { StyleSheet, css } from 'aphrodite';\nimport useReactRouter from 'use-react-router';\nimport { Column, Row } from 'simple-flexbox';\nimport useForm from 'react-hook-form';\nimport { useAsync } from 'react-async';\nimport DatePicker from 'react-datepicker';\nimport ReactTags from 'react-tag-autocomplete';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { useExpenses } from '../../logic/useExpenses';\nimport firebaseClient from '../../logic/firebaseClient';\nimport { LoadingComponent } from '../../commons/InitializingComponent';\nimport ImageUploadComponent from '../../commons/ImageUpload';\nimport AutosuggestCustom from '../../commons/AutosuggestCustom';\nimport { isFileAnImage } from '../../logic/utilities';\nimport '../../commons/styles/tags.css';\n\nconst styles = StyleSheet.create({\n    button: {\n        borderRadius: 5,\n        color: 'white',\n        cursor: 'pointer',\n        fontWeight: 600,\n        padding: '8px 10px',\n        width: 90,\n        textAlign: 'center'\n    },\n    errorText: {\n        color: 'red',\n        width: '95%'\n    },\n    inputField: {\n        height: 40,\n        fontSize: 16,\n        marginTop: 4,\n        width: '99%',\n        maxWidth: 500\n    },\n    reactTagsContainer: {\n        ':nth-child(n) > div': {\n            width: '99%'\n        }\n    }\n});\n\nfunction AddExpenseComponent() {\n    const { getFile, initializing } = useExpenses();\n    const { history, match } = useReactRouter();\n    const editMode = match.path === '/sheet/:sheetId/edit/:expenseId';\n\n    const { errors, handleSubmit, register, reset, setValue, watch } = useForm({\n        defaultValues: {}\n    });\n\n    const { data: expense, isPending: loadingExpense } = useAsync({\n        promiseFn: firebaseClient.getExpenseById,\n        sheetId: match.params.sheetId,\n        expenseId: match.params.expenseId\n    });\n\n    const { data: metadata, isPending: loadingMetadata } = useAsync({\n        promiseFn: firebaseClient.getMetadata,\n        sheetId: match.params.sheetId\n    });\n\n    const [defaultExpense, setDefaultExpense] = useState();\n    const [loadingUpsert, setLoadingUpsert] = useState(false);\n\n    const [files, setFiles] = useState([]);\n    const [filesChanged, setFilesChanged] = useState(0);\n\n    useEffect(() => {\n        const loadFiles = async filteredExpense => {\n            const newFiles = [];\n            const expenseFiles = filteredExpense.files || [];\n            for (let i = 0; i < expenseFiles.length; i++) {\n                let url = expenseFiles[i].url;\n                let publicUrl = url;\n                try {\n                    publicUrl = await firebaseClient.getFile(\n                        expenseFiles[i].url\n                    );\n                } catch (e) {}\n\n                if (!isFileAnImage(expenseFiles[i])) {\n                    newFiles.push({\n                        url,\n                        name: expenseFiles[i].name,\n                        publicUrl,\n                        thumb: ''\n                    });\n                    continue;\n                }\n\n                const thumbFilename = `thumb_${expenseFiles[i].url.substring(\n                    expenseFiles[i].url.lastIndexOf('/') + 1\n                )}`;\n                const thumbFolder = `${expenseFiles[i].url.substring(\n                    0,\n                    expenseFiles[i].url.lastIndexOf('/') + 1\n                )}`;\n                let thumb = `${thumbFolder}${thumbFilename}`;\n                try {\n                    thumb = await firebaseClient.getFile(\n                        `${thumbFolder}${thumbFilename}`\n                    );\n                } catch (e) {}\n                newFiles.push({\n                    url,\n                    name: expenseFiles[i].name,\n                    publicUrl,\n                    thumb\n                });\n            }\n            setFiles(newFiles);\n        };\n\n        if (!initializing && !loadingExpense && !defaultExpense && metadata) {\n            if (editMode) {\n                if (!expense) {\n                    const newDefault = { date: new Date() };\n                    setDefaultExpense(newDefault);\n                    reset(newDefault);\n                } else {\n                    const newDefault = {\n                        ...expense,\n                        date: new Date(+expense.date)\n                    };\n                    setDefaultExpense(newDefault);\n                    reset(newDefault);\n                    loadFiles(expense);\n                }\n            } else {\n                const cities = Object.keys(metadata.cities || {});\n                const defaultCity = cities.find(\n                    c => metadata.cities[c].default\n                );\n                cities.sort(\n                    (a, b) =>\n                        metadata.cities[a].position -\n                        metadata.cities[b].position\n                );\n\n                const categories = Object.keys(metadata.categories || {});\n                const defaultCategory = categories.find(\n                    c => metadata.categories[c].default\n                );\n                categories.sort(\n                    (a, b) =>\n                        metadata.categories[a].position -\n                        metadata.categories[b].position\n                );\n\n                const currencies = Object.keys(metadata.currencies || {});\n                const defaultCurrency = currencies.find(\n                    c => metadata.currencies[c].default\n                );\n                currencies.sort(\n                    (a, b) =>\n                        metadata.currencies[a].position -\n                        metadata.currencies[b].position\n                );\n\n                const methods = Object.keys(metadata.methods || {});\n                const defaultMethod = methods.find(\n                    c => metadata.methods[c].default\n                );\n                methods.sort(\n                    (a, b) =>\n                        metadata.methods[a].position -\n                        metadata.methods[b].position\n                );\n\n                const newDefault = {\n                    date: new Date(),\n                    city: defaultCity,\n                    category: defaultCategory,\n                    currency: defaultCurrency,\n                    method: defaultMethod\n                };\n                setDefaultExpense(newDefault);\n                reset(newDefault);\n            }\n        }\n    }, [\n        editMode,\n        match.params.expenseId,\n        initializing,\n        loadingExpense,\n        getFile,\n        expense,\n        metadata,\n        defaultExpense,\n        reset\n    ]);\n\n    const cities = useMemo(() => {\n        if (metadata && metadata.cities) {\n            return Object.keys(metadata.cities);\n        }\n        return [];\n    }, [metadata]);\n\n    const categories = useMemo(() => {\n        if (metadata && metadata.categories) {\n            const categories = Object.keys(metadata.categories || {});\n            categories.sort(\n                (a, b) =>\n                    metadata.categories[a].position -\n                    metadata.categories[b].position\n            );\n            return categories;\n        }\n        return [];\n    }, [metadata]);\n\n    const currencies = useMemo(() => {\n        if (metadata && metadata.currencies) {\n            const currencies = Object.keys(metadata.currencies || {});\n            currencies.sort(\n                (a, b) =>\n                    metadata.currencies[a].position -\n                    metadata.currencies[b].position\n            );\n            return currencies;\n        }\n        return [];\n    }, [metadata]);\n\n    const methods = useMemo(() => {\n        if (metadata && metadata.methods) {\n            const methods = Object.keys(metadata.methods || {});\n            methods.sort(\n                (a, b) =>\n                    metadata.methods[a].position - metadata.methods[b].position\n            );\n            return methods;\n        }\n        return [];\n    }, [metadata]);\n\n    const tagsSuggestions = useMemo(() => {\n        if (metadata && metadata.tags) {\n            return Object.keys(metadata.tags).map(t => ({ id: t, name: t }));\n        }\n        return [];\n    }, [metadata]);\n\n    if (!metadata) {\n        return (\n            <LoadingComponent\n                loading={loadingExpense || loadingUpsert || loadingMetadata}\n                fullScreen\n            >\n                <div></div>\n            </LoadingComponent>\n        );\n    }\n\n    const onSave = async ({ date, ...data }) => {\n        const newData = {\n            date: new Date(date).getTime(),\n            ...data\n        };\n        newData.dateNeg = -newData.date;\n        if (editMode) {\n            newData.id = match.params.expenseId;\n        }\n        newData.files = files;\n        setLoadingUpsert(true);\n        await firebaseClient.upsertExpense({\n            sheetId: match.params.sheetId,\n            item: newData,\n            metadata\n        });\n        reset();\n        history.push(`/sheet/${match.params.sheetId}`);\n    };\n\n    const onClose = () => history.push(`/sheet/${match.params.sheetId}`);\n\n    const renderError = fieldName =>\n        errors[fieldName] && (\n            <span className={css(styles.errorText)}>\n                {errors[fieldName].message || 'Required field'}\n            </span>\n        );\n\n    const tagsValues = (watch('tags') || '')\n        .split(',')\n        .filter(e => !!e)\n        .map(v => ({ id: v, name: v }));\n\n    return (\n        <LoadingComponent\n            loading={loadingExpense || loadingUpsert || loadingMetadata}\n            fullScreen\n        >\n            <Column style={{ padding: 25, marginTop: 5 }} horizontal=\"center\">\n                <Column style={{ width: '100%', maxWidth: 500 }}>\n                    <DatePicker\n                        name=\"date\"\n                        selected={\n                            watch('date')\n                                ? new Date(watch('date'))\n                                : (defaultExpense || {}).date\n                                ? new Date((defaultExpense || {}).date)\n                                : new Date()\n                        }\n                        onChange={date => setValue('date', date)}\n                        dateFormat=\"dd/MM/yyyy\"\n                        customInput={\n                            <input\n                                type=\"text\"\n                                className={css(styles.inputField)}\n                                value={watch('date')}\n                            />\n                        }\n                    />\n                    <input\n                        name=\"date\"\n                        ref={register({ required: true })}\n                        type=\"hidden\"\n                    />\n                    {renderError('date')}\n\n                    <AutosuggestCustom\n                        onChange={(_, { newValue }) =>\n                            setValue('city', newValue)\n                        }\n                        placeholder=\"CITY\"\n                        value={watch('city', (defaultExpense || {}).city || '')}\n                        values={cities}\n                    />\n                    <input\n                        name=\"city\"\n                        ref={register({ required: true })}\n                        type=\"hidden\"\n                    />\n                    {renderError('city')}\n\n                    <AutosuggestCustom\n                        onChange={(_, { newValue }) =>\n                            setValue('category', newValue)\n                        }\n                        placeholder=\"CATEGORY\"\n                        value={watch(\n                            'category',\n                            (defaultExpense || {}).category || ''\n                        )}\n                        values={categories}\n                    />\n                    <input\n                        name=\"category\"\n                        ref={register({ required: true })}\n                        type=\"hidden\"\n                    />\n                    {renderError('category')}\n\n                    <input\n                        type=\"text\"\n                        name=\"description\"\n                        placeholder=\"DESCRIPTION\"\n                        onChange={e => setValue('description', e.target.value)}\n                        ref={register({ required: true })}\n                        className={css(styles.inputField)}\n                        autoComplete=\"off\"\n                    />\n                    {renderError('description')}\n\n                    <Column className={css(styles.reactTagsContainer)}>\n                        <ReactTags\n                            tags={tagsValues}\n                            suggestions={tagsSuggestions}\n                            onDelete={i => {\n                                const newTags = tagsValues.slice(0);\n                                newTags.splice(i, 1);\n                                setValue(\n                                    'tags',\n                                    newTags.map(e => e.name).join(',')\n                                );\n                            }}\n                            onAddition={tag => {\n                                const newTags = tagsValues.slice(0);\n                                if (newTags.find(i => i.name === tag.name)) {\n                                    return;\n                                }\n                                newTags.push(tag);\n                                setValue(\n                                    'tags',\n                                    newTags.map(e => e.name).join(',')\n                                );\n                            }}\n                            minQueryLength={0}\n                            allowNew\n                            style={{ marginTop: 20 }}\n                        />\n                    </Column>\n                    <input name=\"tags\" ref={register({})} type=\"hidden\" />\n                    {renderError('tags')}\n\n                    <input\n                        type=\"number\"\n                        name=\"amount\"\n                        placeholder=\"AMOUNT\"\n                        onChange={e => setValue('amount', e.target.value)}\n                        ref={register({\n                            required: true,\n                            validate: value =>\n                                !isNaN(Number(value)) ||\n                                'Debe ingresar un numero'\n                        })}\n                        className={css(styles.inputField)}\n                        autoComplete=\"off\"\n                    />\n                    {renderError('amount')}\n\n                    <AutosuggestCustom\n                        onChange={(_, { newValue }) =>\n                            setValue('currency', newValue)\n                        }\n                        placeholder=\"CURRENCY\"\n                        value={watch(\n                            'currency',\n                            (defaultExpense || {}).currency || ''\n                        )}\n                        values={currencies}\n                    />\n                    <input\n                        name=\"currency\"\n                        ref={register({ required: true })}\n                        type=\"hidden\"\n                    />\n                    {renderError('currency')}\n\n                    <AutosuggestCustom\n                        onChange={(_, { newValue }) =>\n                            setValue('method', newValue)\n                        }\n                        placeholder=\"Method\"\n                        value={watch(\n                            'method',\n                            (defaultExpense || {}).method || ''\n                        )}\n                        values={methods}\n                    />\n                    <input\n                        name=\"method\"\n                        ref={register({ required: true })}\n                        type=\"hidden\"\n                    />\n                    {renderError('method')}\n\n                    {(!editMode || (editMode && expense)) && (\n                        <ImageUploadComponent\n                            onChange={newFiles => {\n                                setFilesChanged(filesChanged + 1);\n                                return setFiles(newFiles);\n                            }}\n                            files={files}\n                            filesChanged={filesChanged}\n                            hasFiles={\n                                !editMode\n                                    ? false\n                                    : (expense.files || []).length > 0\n                            }\n                        />\n                    )}\n                    <Row\n                        flexGrow={1}\n                        style={{ marginTop: 20 }}\n                        horizontal=\"spaced\"\n                    >\n                        <span\n                            className={css(styles.button)}\n                            style={{ backgroundColor: 'red' }}\n                            onClick={onClose}\n                        >\n                            Cancel\n                        </span>\n\n                        <span\n                            className={css(styles.button)}\n                            style={{ backgroundColor: 'green' }}\n                            onClick={handleSubmit(onSave)}\n                        >\n                            Save\n                        </span>\n                    </Row>\n                </Column>\n            </Column>\n        </LoadingComponent>\n    );\n}\n\nexport default AddExpenseComponent;\n","import React, { useState } from 'react';\nimport { StyleSheet, css } from 'aphrodite';\nimport useReactRouter from 'use-react-router';\nimport { Column, Row } from 'simple-flexbox';\nimport useForm from 'react-hook-form';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { useExpenses } from '../../logic/useExpenses';\nimport firebaseClient from '../../logic/firebaseClient';\nimport { LoadingComponent } from '../../commons/InitializingComponent';\n\nconst styles = StyleSheet.create({\n    button: {\n        borderRadius: 5,\n        color: 'white',\n        cursor: 'pointer',\n        fontWeight: 600,\n        padding: '8px 10px',\n        width: 90,\n        textAlign: 'center'\n    },\n    errorText: {\n        color: 'red',\n        width: '95%'\n    },\n    inputField: {\n        width: '100%',\n        marginTop: 4\n    }\n});\n\nfunction AddExpenseComponent() {\n    const { refreshUser, user } = useExpenses();\n    const { history } = useReactRouter();\n\n    const { errors, handleSubmit, register, reset, setValue } = useForm();\n\n    const [loading, setLoading] = useState(false);\n\n    const onSave = async ({ name }) => {\n        setLoading(true);\n        const sheetId = await firebaseClient.addSheet({ name, user });\n        reset();\n        await refreshUser();\n        history.push(`/sheet/${sheetId}`);\n    };\n\n    const onClose = () => history.push(`/`);\n\n    const renderError = fieldName =>\n        errors[fieldName] && (\n            <span className={css(styles.errorText)}>\n                {errors[fieldName].message || 'Campo requerido'}\n            </span>\n        );\n\n    return (\n        <LoadingComponent loading={loading} fullScreen>\n            <Column style={{ padding: 25, marginTop: 5 }} horizontal=\"center\">\n                <Column style={{ width: '100%', maxWidth: 500 }}>\n                    <input\n                        type=\"text\"\n                        name=\"name\"\n                        placeholder=\"NOMBRE\"\n                        onChange={e => setValue('name', e.target.value)}\n                        ref={register({ required: true })}\n                        className={css(styles.inputField)}\n                    />\n                    {renderError('name')}\n\n                    <Row\n                        flexGrow={1}\n                        style={{ marginTop: 20 }}\n                        horizontal=\"spaced\"\n                    >\n                        <span\n                            className={css(styles.button)}\n                            style={{ backgroundColor: 'red' }}\n                            onClick={onClose}\n                        >\n                            Cancel\n                        </span>\n\n                        <span\n                            className={css(styles.button)}\n                            style={{ backgroundColor: 'green' }}\n                            onClick={handleSubmit(onSave)}\n                        >\n                            Save\n                        </span>\n                    </Row>\n                </Column>\n            </Column>\n        </LoadingComponent>\n    );\n}\n\nexport default AddExpenseComponent;\n","import React, { useState } from 'react';\nimport { SketchPicker } from 'react-color';\nimport { StyleSheet, css } from 'aphrodite';\n\nconst styles = StyleSheet.create({\n    swatch: {\n        padding: '5px',\n        background: '#fff',\n        borderRadius: '1px',\n        boxShadow: '0 0 0 1px rgba(0,0,0,.1)',\n        display: 'inline-block',\n        cursor: 'pointer'\n    },\n    popover: {\n        position: 'absolute',\n        zIndex: '2'\n    },\n    cover: {\n        position: 'fixed',\n        top: '0px',\n        right: '0px',\n        bottom: '0px',\n        left: '0px'\n    }\n});\n\nfunction ColorPickerComponent({\n    defaultColor = '#FFFFFF',\n    onChangeComplete = () => {}\n}) {\n    const [show, setShow] = useState(false);\n    const [color, setColor] = useState(defaultColor);\n\n    return (\n        <div>\n            <div className={css(styles.swatch)} onClick={() => setShow(!show)}>\n                <div\n                    style={{\n                        width: 36,\n                        height: 14,\n                        borderRadius: 2,\n                        background: color\n                    }}\n                />\n            </div>\n            {show ? (\n                <div className={css(styles.popover)}>\n                    <div\n                        className={css(styles.cover)}\n                        onClick={() => setShow(!show)}\n                    />\n                    <SketchPicker\n                        color={color}\n                        onChangeComplete={color => {\n                            setColor(color.hex);\n                            onChangeComplete(color.hex);\n                        }}\n                    />\n                </div>\n            ) : null}\n        </div>\n    );\n}\n\nexport default ColorPickerComponent;\n","import React from 'react';\n\nexport default (props) => (\n    <svg viewBox=\"0 0 100.354 100.352\" {...props} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill={props.fill || \"#000000\"} opacity={props.opacity || ''} d=\"M96.364,39.436c-0.525-1.615-1.895-2.77-3.574-3.013l-26.672-3.876L54.19,8.378c-0.751-1.522-2.272-2.468-3.97-2.468l0,0\n\tc-1.697,0-3.219,0.946-3.971,2.468L34.321,32.547L7.649,36.423c-1.681,0.244-3.05,1.398-3.575,3.013s-0.095,3.354,1.121,4.54\n\tl19.3,18.813L19.92,89.466c-0.285,1.659,0.38,3.311,1.734,4.311c0.78,0.576,1.7,0.87,2.626,0.87c0.682,0,1.367-0.159,2.003-0.481\n\tl24.49-12.395l23.302,12.25c1.503,0.791,3.29,0.662,4.663-0.337c1.374-0.998,2.049-2.658,1.762-4.331l-4.557-26.564l19.3-18.812\n\tC96.459,42.791,96.889,41.051,96.364,39.436z M93.15,41.828L72.72,61.742l4.823,28.118c0.094,0.548-0.119,1.07-0.568,1.397\n\tc-0.449,0.328-1.011,0.369-1.503,0.109L50.8,78.395L24.929,91.489c-0.494,0.249-1.05,0.201-1.493-0.125\n\tc-0.443-0.327-0.652-0.847-0.559-1.39l4.842-28.231L7.289,41.829c-0.398-0.388-0.533-0.935-0.361-1.464\n\tc0.172-0.528,0.603-0.892,1.153-0.972l28.233-4.103L48.94,9.707c0.246-0.499,0.725-0.796,1.28-0.796l0,0\n\tc0.556,0,1.034,0.297,1.28,0.796L64.126,35.29l28.233,4.103c0.55,0.08,0.98,0.443,1.152,0.972S93.548,41.44,93.15,41.828z\"></path>\n    </svg>\n);\n","import React from 'react';\n\nexport default (props) => (\n\t<svg viewBox=\"2 2 20 19\" {...props} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<g id=\"Icons\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t<polygon id=\"Path\" fillRule=\"nonzero\" points=\"0 0 24 0 24 24 0 24\"></polygon>\n\t\t\t<polygon fill={props.fill || \"#1D1D1D\"} points=\"12 17.27 18.18 21 16.54 13.97 22 9.24 14.81 8.63 12 2 9.19 8.63 2 9.24 7.46 13.97 5.82 21\"></polygon>\n\t\t</g>\n\t</svg>\n);\n","import React from 'react';\n\nexport default (props) => (\n    <svg viewBox=\"0 0 18 18\" {...props} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g id=\"Icons\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" transform=\"translate(-3.000000, -3.000000)\">\n            <polygon id=\"Path\" points=\"0 0 24 0 24 24 0 24\"></polygon>\n            <path d=\"M3,17.46 L3,20.5 C3,20.78 3.22,21 3.5,21 L6.54,21 C6.67,21 6.8,20.95 6.89,20.85 L17.81,9.94 L14.06,6.19 L3.15,17.1 C3.05,17.2 3,17.32 3,17.46 Z M20.71,7.04 C21.1,6.65 21.1,6.02 20.71,5.63 L18.37,3.29 C17.98,2.9 17.35,2.9 16.96,3.29 L15.13,5.12 L18.88,8.87 L20.71,7.04 Z\" fill=\"#1D1D1D\"></path>\n        </g>\n    </svg>\n);\n","import React, { useEffect, useState } from 'react';\nimport {\n    sortableContainer,\n    sortableElement,\n    sortableHandle\n} from 'react-sortable-hoc';\nimport arrayMove from 'array-move';\nimport { StyleSheet, css } from 'aphrodite';\nimport { Column, Row } from 'simple-flexbox';\nimport Switch from 'react-switch';\nimport ColorPickerComponent from '../../commons/ColorPickerComponent';\nimport IconStar from '../../assets/icon-star';\nimport IconStarFilled from '../../assets/icon-star-filled';\nimport IconRemove from '../../assets/icon-remove';\nimport IconEdit from '../../assets/icon-edit';\n\nconst styles = StyleSheet.create({\n    button: {\n        borderRadius: 5,\n        color: 'white',\n        cursor: 'pointer',\n        fontWeight: 600,\n        padding: '8px 10px',\n        width: 90,\n        textAlign: 'center'\n    },\n    container: {},\n    item: {\n        borderRadius: 4,\n        backgroundColor: '#FDFDFD',\n        border: '1px solid #E7EBF0',\n        marginTop: 2,\n        padding: '4px 8px'\n    },\n    itemValue: {\n        '-webkit-user-select': 'none',\n        flexGrow: 1,\n        height: '100%',\n        padding: '4px 8px'\n    },\n    label: {\n        fontWeight: 500,\n        marginRight: 6\n    }\n});\n\nconst DragHandle = sortableHandle(({ children }) => children);\n\nconst SortableItem = sortableElement(\n    ({\n        position,\n        value,\n        onDeleteClick,\n        onDefaultClick,\n        showEdit,\n        onEditClick,\n        onChange,\n        options\n    }) => (\n        <Column className={css(styles.item)}>\n            <Row vertical=\"center\" horizontal=\"spaced\">\n                <DragHandle>\n                    <Row vertical=\"center\" className={css(styles.itemValue)}>\n                        {position + 1} - {value.value}\n                    </Row>\n                </DragHandle>\n                <Row vertical=\"center\">\n                    {options.showEditButton && (\n                        <div\n                            style={{ cursor: 'pointer', marginRight: 10 }}\n                            onClick={onEditClick}\n                        >\n                            <IconEdit width={24} />\n                        </div>\n                    )}\n                    {options.showShowButton && (\n                        <div\n                            style={{ cursor: 'pointer', marginRight: 10 }}\n                            onClick={() => {}}\n                        >\n                            <Switch\n                                onChange={() => {\n                                    const newItem = {\n                                        ...value,\n                                        show: !value.show\n                                    };\n                                    onChange(newItem);\n                                }}\n                                checked={value.show}\n                            />\n                        </div>\n                    )}\n                    {!options.hideStar && (\n                        <div\n                            style={{ cursor: 'pointer' }}\n                            onClick={onDefaultClick}\n                        >\n                            {value.default ? (\n                                <IconStarFilled width={28} fill=\"#2c689c\" />\n                            ) : (\n                                <IconStar width={28} />\n                            )}\n                        </div>\n                    )}\n\n                    {!options.hideRemove && (\n                        <div\n                            style={{\n                                cursor: 'pointer',\n                                marginLeft: 16,\n                                marginRight: 12\n                            }}\n                            onClick={onDeleteClick}\n                        >\n                            <IconRemove width={28} />\n                        </div>\n                    )}\n                </Row>\n            </Row>\n            {showEdit && (\n                <table style={{ maxWidth: 200 }}>\n                    <tbody>\n                        {options.fields.map((f, i) => (\n                            <tr key={`input-${f.name}`}>\n                                <td>\n                                    <span className={css(styles.label)}>\n                                        {f.title}:\n                                    </span>\n                                </td>\n                                <td>\n                                    {f.type === 'color' ? (\n                                        <ColorPickerComponent\n                                            defaultColor={value[f.name]}\n                                            onChangeComplete={color => {\n                                                const newItem = { ...value };\n                                                newItem[f.name] = color;\n                                                onChange(newItem);\n                                            }}\n                                        />\n                                    ) : (\n                                        <input\n                                            type=\"text\"\n                                            defaultValue={value[f.name]}\n                                            onBlur={e => {\n                                                const newItem = { ...value };\n                                                newItem[f.name] =\n                                                    e.target.value;\n                                                onChange(newItem);\n                                            }}\n                                        />\n                                    )}\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            )}\n        </Column>\n    )\n);\n\nconst SortableContainer = sortableContainer(({ children }) => {\n    return <Column className={css(styles.container)}>{children}</Column>;\n});\n\nfunction SortableListComponent({\n    type,\n    items: props_items,\n    onClose,\n    onSave,\n    options = {}\n}) {\n    const [showEditItem, setShowEditItem] = useState('');\n    const [items, setItems] = useState(props_items || []);\n\n    useEffect(() => window.scrollTo(0, 0), []);\n\n    useEffect(() => setItems(props_items), [props_items]);\n\n    const onSortEnd = ({ oldIndex, newIndex }) => {\n        setItems(arrayMove(items, oldIndex, newIndex));\n    };\n\n    const onDeleteClick = index => {\n        const newItems = [...items];\n        newItems.splice(index, 1);\n        setItems(newItems);\n    };\n\n    const onDefaultClick = index =>\n        setItems(\n            items.map((v, i) => ({\n                ...v,\n                default: i === index ? !items[index].default : false\n            }))\n        );\n\n    const onChangeItem = (index, newItem) =>\n        setItems(items.map((v, i) => (i === index ? newItem : v)));\n\n    return (\n        <Column>\n            <SortableContainer\n                onSortEnd={onSortEnd}\n                useDragHandle\n                pressDelay={200}\n                pressThreshold={10}\n            >\n                {items.map((item, index) => {\n                    return (\n                        <SortableItem\n                            type={type}\n                            key={`item-${index}-${item.value.value}`}\n                            index={index}\n                            value={item}\n                            position={\n                                item.position !== undefined\n                                    ? item.position\n                                    : index\n                            }\n                            onDeleteClick={() => onDeleteClick(index)}\n                            onDefaultClick={() => onDefaultClick(index)}\n                            onEditClick={() =>\n                                showEditItem === item.value\n                                    ? setShowEditItem('')\n                                    : setShowEditItem(item.value)\n                            }\n                            showEdit={showEditItem === item.value}\n                            onChange={newItem => onChangeItem(index, newItem)}\n                            options={options}\n                        />\n                    );\n                })}\n            </SortableContainer>\n            <Row flexGrow={1} style={{ marginTop: 20 }} horizontal=\"spaced\">\n                <span\n                    className={css(styles.button)}\n                    style={{ backgroundColor: 'red' }}\n                    onClick={onClose}\n                >\n                    Cancel\n                </span>\n\n                <span\n                    className={css(styles.button)}\n                    style={{ backgroundColor: 'green' }}\n                    onClick={() => onSave(items)}\n                >\n                    Save\n                </span>\n            </Row>\n        </Column>\n    );\n}\n\nexport default SortableListComponent;\n","import React, { useEffect, useState } from 'react';\nimport useReactRouter from 'use-react-router';\nimport { StyleSheet, css } from 'aphrodite';\nimport { Column } from 'simple-flexbox';\nimport { useAsync } from 'react-async';\nimport firebaseClient from '../../logic/firebaseClient';\nimport { LoadingComponent } from '../../commons/InitializingComponent';\nimport SortableListComponent from './SortableListComponent';\n\nconst styles = StyleSheet.create({\n    button: {\n        borderRadius: 5,\n        color: 'white',\n        cursor: 'pointer',\n        fontWeight: 600,\n        padding: '8px 10px',\n        width: 90,\n        textAlign: 'center'\n    },\n    item: {\n        borderRadius: 4,\n        backgroundColor: '#FDFDFD',\n        border: '1px solid #E7EBF0',\n        marginTop: 2,\n        padding: '4px 8px'\n    },\n    title: {\n        lineHeight: '36px',\n        fontSize: 24,\n        fontWeight: 'bold'\n    },\n    subtitle: {\n        lineHeight: '27px',\n        fontSize: 18,\n        marginTop: 4,\n        marginBottom: 8\n    }\n});\n\nfunction ComboItemsComponent({ title, type, options = {} }) {\n    const { history, match } = useReactRouter();\n\n    const [loading, setLoading] = useState(false);\n    const [items, setItems] = useState([]);\n    const [currentType, setCurrentType] = useState([]);\n\n    const { data: metadata, error, isPending: loadingMetadata } = useAsync({\n        promiseFn: firebaseClient.getMetadata,\n        sheetId: match.params.sheetId\n    });\n\n    useEffect(() => window.scrollTo(0, 0), []);\n\n    useEffect(() => {\n        if (\n            metadata &&\n            (items.length === 0 || currentType !== type) &&\n            metadata[type]\n        ) {\n            const array = Object.keys(metadata[type]).map(key => ({\n                value: key,\n                ...metadata[type][key]\n            }));\n            array.sort((a, b) => a.position - b.position);\n            setItems(array);\n            setCurrentType(type);\n        }\n    }, [match.params.sheetId, items, type, currentType, metadata]);\n\n    const onSave = async items => {\n        const newItems = {};\n        items.forEach(({ value, ...item }, index) => {\n            newItems[value] = {\n                ...item,\n                position: index\n            };\n        });\n        setLoading(true);\n        await firebaseClient.setMetadata({\n            sheetId: match.params.sheetId,\n            type,\n            items: newItems\n        });\n        history.push(`/sheet/${match.params.sheetId}`);\n    };\n\n    const onClose = () => history.push(`/sheet/${match.params.sheetId}`);\n\n    if (error) {\n        return <span className={css(styles.title)}>Error: {error}</span>;\n    }\n\n    return (\n        <LoadingComponent loading={loadingMetadata || loading} fullScreen>\n            <Column>\n                <span className={css(styles.title)}>{title}</span>\n                <span className={css(styles.subtitle)}>\n                    Drag the items on the list to sort them.\n                </span>\n                <SortableListComponent\n                    items={items}\n                    onClose={onClose}\n                    onSave={onSave}\n                    type={type}\n                    options={options}\n                    title={title}\n                />\n            </Column>\n        </LoadingComponent>\n    );\n}\n\nexport default ComboItemsComponent;\n","import React, { useEffect, useState } from 'react';\nimport { StyleSheet, css } from 'aphrodite';\nimport { Column } from 'simple-flexbox';\nimport useReactRouter from 'use-react-router';\nimport { LoadingComponent } from '../../commons/InitializingComponent';\nimport SortableListComponent from './SortableListComponent';\nimport firebaseClient from '../../logic/firebaseClient';\nimport { useExpenses } from '../../logic/useExpenses';\n\nconst styles = StyleSheet.create({\n    title: {\n        lineHeight: '36px',\n        fontSize: 24,\n        fontWeight: 'bold'\n    },\n    section: {\n        marginTop: 20,\n        borderTop: '1px solid #DFE0EB',\n        paddingTop: 10\n    }\n});\n\nfunction UserSettingsComponent() {\n    const { history } = useReactRouter();\n    const { initializing, refreshUser, user } = useExpenses();\n\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => window.scrollTo(0, 0), []);\n\n    useEffect(() => {\n        if (!initializing && !user) {\n            return history.push('/login');\n        }\n    }, [history, initializing, user]);\n\n    const onSave = async items => {\n        const newItems = user.sheets;\n        items.forEach(({ id, value, ...item }, index) => {\n            newItems[id].metadata = {\n                ...item,\n                position: index\n            };\n        });\n        setLoading(true);\n        await firebaseClient.setUserSheets({\n            userId: user.uid,\n            sheets: newItems\n        });\n        await refreshUser();\n        history.push('/dashboard');\n    };\n\n    const onClose = () => history.push('/dashboard');\n\n    if (!user) {\n        return <div></div>;\n    }\n    const items = Object.keys(user.sheets || [])\n        .map((value, index) => {\n            const sheet = user.sheets[value];\n            const metadata = sheet.metadata || {};\n            return {\n                value: sheet.name,\n                position:\n                    metadata.position !== undefined ? metadata.position : index,\n                show: metadata.show,\n                id: sheet.id\n            };\n        })\n        .sort((a, b) => a.position - b.position);\n    return (\n        <LoadingComponent loading={loading} fullScreen>\n            <Column>\n                <span className={css(styles.title)}>Settings</span>\n                <Column className={css(styles.section)}>\n                    <SortableListComponent\n                        title=\"Sheets\"\n                        type=\"sheets\"\n                        items={items}\n                        options={{\n                            showShowButton: true,\n                            hideStar: true,\n                            hideRemove: true\n                        }}\n                        onClose={onClose}\n                        onSave={onSave}\n                    />\n                </Column>\n            </Column>\n        </LoadingComponent>\n    );\n}\n\nexport default UserSettingsComponent;\n","import React, { useEffect } from 'react';\nimport { StyleSheet, css } from 'aphrodite';\nimport useReactRouter from 'use-react-router';\nimport { Column, Row } from 'simple-flexbox';\nimport { useExpenses } from '../../logic/useExpenses';\nimport IconPlus from '../../assets/icon-plus.js';\n\nconst styles = StyleSheet.create({\n    itemContainer: {\n        backgroundColor: '#FDFDFD',\n        border: '1px solid #E7EBF0',\n        borderRadius: 4,\n        color: '#172b4d',\n        cursor: 'pointer',\n        marginBottom: 10,\n        minHeight: 80,\n        padding: '10px 20px',\n        '@media (max-width: 488px)': {\n            padding: '5px 10px'\n        },\n        flexGrow: 1,\n        marginRight: 10,\n        minWidth: 300,\n        '@media (max-width: 380px)': {\n            minWidth: 250\n        }\n    },\n    itemPlusContainer: {\n        border: '3px dashed #9C9B9B',\n        borderRadius: 4,\n        color: '#9C9B9B',\n        cursor: 'pointer',\n        marginBottom: 10,\n        minHeight: 80,\n        flexGrow: 1,\n        marginRight: 10,\n        padding: '10px 20px',\n        '@media (max-width: 488px)': {\n            padding: '5px 10px'\n        },\n        ':hover': {\n            borderColor: '#6C6B6B',\n            color: '#6C6B6B',\n            ':nth-child(n) > svg > path': {\n                fill: '#6C6B6B'\n            }\n        },\n        ':nth-child(n) > svg > path': {\n            fill: '#9C9B9B'\n        },\n        minWidth: 300,\n        '@media (max-width: 380px)': {\n            minWidth: 200\n        }\n    }\n});\n\nfunction ExpensesComponent() {\n    const { history } = useReactRouter();\n    const { initializing, user } = useExpenses();\n\n    useEffect(() => window.scrollTo(0, 0), []);\n\n    useEffect(() => {\n        if (!initializing && !user) {\n            return history.push('/login');\n        }\n    }, [history, initializing, user]);\n\n    if (!user) {\n        return <div></div>;\n    }\n\n    const onAddSheetClick = () => history.push('/newsheet');\n\n    const onSheetClick = id => history.push(`/sheet/${id}`);\n\n    const pairs = [];\n    const sheets = Object.keys(user.sheets || [])\n        .map((value, index) => {\n            const sheet = user.sheets[value];\n            const metadata = sheet.metadata || {};\n            return {\n                position:\n                    metadata.position !== undefined ? metadata.position : index,\n                show: metadata.show !== undefined ? metadata.show : true,\n                id: sheet.id\n            };\n        })\n        .sort((a, b) => a.position - b.position);\n\n    sheets\n        .filter(s => s.show)\n        .forEach((sheet, index) => {\n            const pairIndex = Math.floor(index / 2);\n            if (index % 2 === 0 && pairs.length <= pairIndex) {\n                pairs.push([]);\n            }\n            return pairs[pairIndex].push(user.sheets[sheet.id]);\n        });\n\n    if (pairs.length > 0 && pairs[pairs.length - 1].length === 1) {\n        pairs[pairs.length - 1].push({ plus: true });\n    } else {\n        pairs.push([{ plus: true }]);\n    }\n\n    return (\n        <Column horizontal=\"center\">\n            <Column\n                style={{ maxWidth: 800, width: '100%', padding: '10px 10px' }}\n            >\n                {pairs.map((p, i) => (\n                    <Row\n                        key={`pair-${i}`}\n                        horizontal=\"space-between\"\n                        style={{ marginRight: -10 }}\n                        wrap\n                    >\n                        {p.map((item, i) =>\n                            item.plus ? (\n                                <Row\n                                    key=\"key-add-sheet\"\n                                    vertical=\"center\"\n                                    horizontal=\"center\"\n                                    className={css(styles.itemPlusContainer)}\n                                    onClick={onAddSheetClick}\n                                >\n                                    <IconPlus width={16} fill=\"\" />\n                                    <span style={{ marginLeft: 10 }}>\n                                        Add Sheet\n                                    </span>\n                                </Row>\n                            ) : (\n                                <Row\n                                    key={`sheet-${i}`}\n                                    onClick={() => onSheetClick(item.id)}\n                                    className={css(styles.itemContainer)}\n                                    horizontal=\"center\"\n                                    vertical=\"center\"\n                                >\n                                    {item.name}\n                                </Row>\n                            )\n                        )}\n                    </Row>\n                ))}\n            </Column>\n        </Column>\n    );\n}\n\nexport default ExpensesComponent;\n","import React, { useEffect, useState } from 'react';\nimport { StyleSheet, css } from 'aphrodite';\nimport useReactRouter from 'use-react-router';\nimport { useAsync } from 'react-async';\nimport useForm from 'react-hook-form';\nimport { Column, Row } from 'simple-flexbox';\nimport { useExpenses } from '../../logic/useExpenses';\nimport firebaseClient from '../../logic/firebaseClient';\nimport { LoadingComponent } from '../../commons/InitializingComponent';\n\nconst styles = StyleSheet.create({\n    button: {\n        borderRadius: 5,\n        color: 'white',\n        cursor: 'pointer',\n        fontWeight: 600,\n        padding: '8px 10px',\n        width: 90,\n        textAlign: 'center'\n    },\n    label: {\n        fontWeight: 500,\n        marginRight: 6\n    },\n    title: {\n        lineHeight: '36px',\n        fontSize: 24,\n        fontWeight: 'bold'\n    },\n    subtitle: {\n        lineHeight: '27px',\n        fontSize: 18,\n        marginTop: 4,\n        marginBottom: 8\n    }\n});\n\nfunction SettingsComponent() {\n    const { history, match } = useReactRouter();\n    const { user, refreshUser } = useExpenses();\n\n    const [loading, setLoading] = useState(false);\n\n    const { errors, handleSubmit, register, reset } = useForm();\n\n    const { data: sheetName, isPending: loadingSheetName } = useAsync({\n        promiseFn: firebaseClient.getSheetName,\n        sheetId: match.params.sheetId\n    });\n\n    useEffect(() => window.scrollTo(0, 0), []);\n\n    useEffect(() => {\n        if (sheetName && user) {\n            reset({\n                name: sheetName\n            });\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [sheetName, user]);\n\n    const onSave = async ({ name }) => {\n        setLoading(true);\n\n        await firebaseClient.setSheetName({\n            userId: user.uid,\n            sheetId: match.params.sheetId,\n            sheetName: name\n        });\n        await refreshUser();\n        reset();\n        history.push(`/sheet/${match.params.sheetId}`);\n    };\n\n    const onClose = () => history.push(`/sheet/${match.params.sheetId}`);\n\n    const renderError = fieldName =>\n        errors[fieldName] && (\n            <span className={css(styles.errorText)}>\n                {errors[fieldName].message || 'Campo requerido'}\n            </span>\n        );\n\n    return (\n        <LoadingComponent loading={loadingSheetName || loading} fullScreen>\n            <Column>\n                <span className={css(styles.title)}>Settings</span>\n\n                <Column>\n                    <Row style={{ marginTop: 12 }}>\n                        <span className={css(styles.label)}>Name</span>\n                        <input\n                            name=\"name\"\n                            ref={register({ required: true })}\n                            type=\"text\"\n                        />\n                    </Row>\n                    {renderError('date')}\n                </Column>\n                <Row flexGrow={1} style={{ marginTop: 20 }} horizontal=\"spaced\">\n                    <span\n                        className={css(styles.button)}\n                        style={{ backgroundColor: 'red' }}\n                        onClick={onClose}\n                    >\n                        Cancel\n                    </span>\n\n                    <span\n                        className={css(styles.button)}\n                        style={{ backgroundColor: 'green' }}\n                        onClick={handleSubmit(onSave)}\n                    >\n                        Save\n                    </span>\n                </Row>\n            </Column>\n        </LoadingComponent>\n    );\n}\n\nexport default SettingsComponent;\n","import React from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport ExpensesComponent from './expenses/ExpensesComponent';\nimport UpsertExpenseComponent from './expenses/UpsertExpenseComponent';\nimport NewSheetComponent from './sheets/NewSheetComponent';\nimport ComboItemsComponent from './settings/ComboItemsComponent';\nimport UserSettingsComponent from './settings/UserSettingsComponent';\nimport DashboardComponent from './dashboard/DashboardComponent';\nimport SettingsSheetComponent from './sheets/SettingsSheetComponent';\n\nexport default function RenterRoutes() {\n    return (\n        <Switch>\n            <Route\n                exact\n                path={`/sheet/:sheetId`}\n                component={ExpensesComponent}\n            />\n            <Route\n                exact\n                path={`/sheet/:sheetId/new`}\n                component={UpsertExpenseComponent}\n            />\n            <Route\n                exact\n                path={`/sheet/:sheetId/edit/:expenseId`}\n                component={UpsertExpenseComponent}\n            />\n            <Route\n                exact\n                path={`/sheet/:sheetId/categories`}\n                render={() => (\n                    <ComboItemsComponent title=\"Categories\" type=\"categories\" />\n                )}\n            />\n            <Route\n                exact\n                path={`/sheet/:sheetId/cities`}\n                render={() => (\n                    <ComboItemsComponent title=\"Cities\" type=\"cities\" />\n                )}\n            />\n            <Route\n                exact\n                path={`/sheet/:sheetId/currencies`}\n                render={() => (\n                    <ComboItemsComponent title=\"Currencies\" type=\"currencies\" />\n                )}\n            />\n            <Route\n                exact\n                path={`/sheet/:sheetId/methods`}\n                render={() => (\n                    <ComboItemsComponent title=\"Methods\" type=\"methods\" />\n                )}\n            />\n            <Route\n                exact\n                path={`/sheet/:sheetId/tags`}\n                render={() => (\n                    <ComboItemsComponent\n                        title=\"Tags\"\n                        type=\"tags\"\n                        options={{\n                            showEditButton: true,\n                            fields: [\n                                {\n                                    name: 'backgroundColor',\n                                    title: 'Fondo',\n                                    type: 'color'\n                                },\n                                { name: 'color', title: 'Color', type: 'color' }\n                            ]\n                        }}\n                    />\n                )}\n            />\n            <Route\n                exact\n                path={`/sheet/:sheetId/settings`}\n                component={SettingsSheetComponent}\n            />\n            <Route\n                exact\n                path={`/settings`}\n                render={() => <UserSettingsComponent />}\n            />\n            <Route exact path={`/newsheet`} component={NewSheetComponent} />\n            <Route exact path={`/dashboard`} component={DashboardComponent} />\n            <Redirect exact from={'/'} to={'/dashboard'} />\n            <Route render={() => <span>Page not found</span>} />\n        </Switch>\n    );\n}\n","import React, { useEffect } from 'react';\nimport { Column, Row } from 'simple-flexbox';\nimport { StyleSheet, css } from 'aphrodite';\nimport { Route, Switch } from 'react-router-dom';\nimport useReactRouter from 'use-react-router';\nimport { useExpenses } from '../logic/useExpenses';\nimport SidebarComponent from '../commons/sidebar/SidebarComponent';\nimport HeaderComponent from '../commons/header/HeaderComponent';\nimport InitializingComponent from '../commons/InitializingComponent';\nimport NotificationComponent from '../commons/NotificationComponent';\nimport LoginComponent from './auth/LoginComponent';\nimport Routes from './routes';\n\nconst styles = StyleSheet.create({\n    container: {\n        height: '100%',\n        minHeight: 850\n    },\n    mainBlock: {\n        backgroundColor: '#F7F8FC',\n        padding: 30,\n        marginLeft: 255,\n        '@media (max-width: 1080px)': {\n            marginLeft: 0,\n            padding: 10\n        }\n    }\n});\n\nfunction MainComponent() {\n    return (\n        <Row className={css(styles.container)}>\n            <SidebarComponent />\n            <Column flexGrow={1} className={css(styles.mainBlock)}>\n                <HeaderComponent />\n                <Routes />\n            </Column>\n        </Row>\n    );\n}\n\nfunction RenterRoutes() {\n    const { initializing, isOnline, user } = useExpenses();\n    const { history, location } = useReactRouter();\n\n    useEffect(() => {\n        if (!initializing) {\n            if (history && location.pathname !== '/login' && !user) {\n                history.push('/login');\n            } else if (user && location.pathname === '/login') {\n                history.push('/');\n            }\n        }\n    }, [history, location, user, initializing]);\n\n    useEffect(() => {\n        if (!initializing) {\n            if (!isOnline) {\n                NotificationComponent.show({\n                    key: 'offline',\n                    message: 'You are offline',\n                    style: {\n                        backgroundColor: 'red',\n                        color: '#FFFFFF'\n                    }\n                });\n            } else {\n                NotificationComponent.hide('offline');\n            }\n        }\n    }, [initializing, isOnline]);\n\n    useEffect(() => {\n        if (!initializing) {\n            if (process.env.REACT_APP_fakeClient === 'true') {\n                NotificationComponent.show({\n                    key: 'fake',\n                    message: (\n                        <span>\n                            <b>Fake data</b>\n                            <span\n                                style={{ cursor: 'pointer', marginLeft: 16 }}\n                                onClick={() =>\n                                    NotificationComponent.hide('fake')\n                                }\n                            >\n                                &#10005;\n                            </span>\n                        </span>\n                    ),\n                    style: {\n                        backgroundColor: 'rgb(44, 104, 156)',\n                        color: 'rgb(164, 166, 179)'\n                    }\n                });\n            } else {\n                NotificationComponent.hide('fake');\n            }\n        }\n    }, [initializing]);\n\n    if (initializing) {\n        return <InitializingComponent />;\n    }\n\n    return (\n        <Switch>\n            <Route exact path={`/login`} component={LoginComponent} />\n            <Route path={`/`} component={MainComponent} />\n        </Switch>\n    );\n}\n\nexport default RenterRoutes;\n","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { ProvideExpenses } from './logic/useExpenses';\nimport MainComponent from './pages/MainComponent';\nimport './App.css';\n\nconst whyDidYouRender = require('@welldone-software/why-did-you-render');\nwhyDidYouRender(React);\n\nclass App extends React.Component {\n    componentDidMount() {\n        window.addEventListener('resize', this.resize);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.resize);\n    }\n\n    resize = () => this.forceUpdate();\n\n    render() {\n        return (\n            <ProvideExpenses>\n                <Router basename={`/${process.env.REACT_APP_basename || ''}`}>\n                    <MainComponent />\n                </Router>\n            </ProvideExpenses>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}